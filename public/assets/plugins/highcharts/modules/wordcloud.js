/*
 Highcharts JS v9.0.1 (2021-03-26)

 (c) 2016-2021 Highsoft AS
 Authors: Jon Arild Nygard

 License: www.highcharts.com/license
*/
(function(a){"object"===typeof module&&module.exports?(a["default"]=a,module.exports=a):"function"===typeof define&&define.amd?define("highcharts/modules/wordcloud",["highcharts"],function(m){a(m);a.Highcharts=m;return a}):a("undefined"!==typeof Highcharts?Highcharts:void 0)})(function(a){function m(a,d,h,z){a.hasOwnProperty(d)||(a[d]=z.apply(null,h))}a=a?a._modules:{};m(a,"Mixins/Polygon.js",[a["Core/Globals.js"],a["Core/Utilities.js"]],function(a,d){var h=d.find,z=d.isArray,l=d.isNumber,p=a.deg2rad,
e=function(g,b){b=l(b)?b:14;b=Math.pow(10,b);return Math.round(g*b)/b},k=function(g,b){var c=b[0]-g[0];g=b[1]-g[1];return[[-g,c],[g,-c]]},q=function(g,b){g=g.map(function(c){return c[0]*b[0]+c[1]*b[1]});return{min:Math.min.apply(this,g),max:Math.max.apply(this,g)}},t=function(g,b){var c=g[0];g=g[1];var f=p*-b;b=Math.cos(f);f=Math.sin(f);return[e(c*b-g*f),e(c*f+g*b)]},B=function(g,b,c){g=t([g[0]-b[0],g[1]-b[1]],c);return[g[0]+b[0],g[1]+b[1]]},x=function(g){var b=g.axes;if(!z(b)){b=[];var c=c=g.concat([g[0]]);
c.reduce(function(c,A){var f=k(c,A)[0];h(b,function(c){return c[0]===f[0]&&c[1]===f[1]})||b.push(f);return A});g.axes=b}return b},m=function(g,b){g=x(g);b=x(b);return g.concat(b)};return{getBoundingBoxFromPolygon:function(g){return g.reduce(function(b,c){var f=c[0];c=c[1];b.left=Math.min(f,b.left);b.right=Math.max(f,b.right);b.bottom=Math.max(c,b.bottom);b.top=Math.min(c,b.top);return b},{left:Number.MAX_VALUE,right:-Number.MAX_VALUE,bottom:-Number.MAX_VALUE,top:Number.MAX_VALUE})},getPolygon:function(g,
b,c,f,A){var e=[g,b],C=g-c/2;g+=c/2;c=b-f/2;b+=f/2;return[[C,c],[g,c],[g,b],[C,b]].map(function(c){return B(c,e,-A)})},isPolygonsColliding:function(g,b){var c=m(g,b);return!h(c,function(c){var f=q(g,c);c=q(b,c);return!!(c.min>f.max||c.max<f.min)})},movePolygon:function(g,b,c){return c.map(function(c){return[c[0]+g,c[1]+b]})},rotate2DToOrigin:t,rotate2DToPoint:B}});m(a,"Mixins/DrawPoint.js",[],function(){var a=function(a){return"function"===typeof a},d=function(d){var h,l=this,p=l.graphic,e=d.animatableAttribs,
k=d.onComplete,q=d.css,t=d.renderer,B=null===(h=l.series)||void 0===h?void 0:h.options.animation;if(l.shouldDraw())p||(l.graphic=p=t[d.shapeType](d.shapeArgs).add(d.group)),p.css(q).attr(d.attribs).animate(e,d.isNew?!1:B,k);else if(p){var m=function(){l.graphic=p=p.destroy();a(k)&&k()};Object.keys(e).length?p.animate(e,void 0,function(){m()}):m()}};return{draw:d,drawPoint:function(a){(a.attribs=a.attribs||{})["class"]=this.getClassName();d.call(this,a)},isFn:a}});m(a,"Series/Wordcloud/WordcloudPoint.js",
[a["Mixins/DrawPoint.js"],a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],function(a,d,h){var m=this&&this.__extends||function(){var a=function(d,e){a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,e){a.__proto__=e}||function(a,e){for(var d in e)e.hasOwnProperty(d)&&(a[d]=e[d])};return a(d,e)};return function(d,e){function l(){this.constructor=d}a(d,e);d.prototype=null===e?Object.create(e):(l.prototype=e.prototype,new l)}}();h=h.extend;d=function(a){function d(){var e=
null!==a&&a.apply(this,arguments)||this;e.dimensions=void 0;e.options=void 0;e.polygon=void 0;e.rect=void 0;e.series=void 0;return e}m(d,a);d.prototype.shouldDraw=function(){return!this.isNull};d.prototype.isValid=function(){return!0};return d}(d.seriesTypes.column.prototype.pointClass);h(d.prototype,{draw:a.drawPoint,weight:1});return d});m(a,"Series/Wordcloud/WordcloudUtils.js",[a["Mixins/Polygon.js"],a["Core/Utilities.js"]],function(a,d){var h=a.isPolygonsColliding,m=a.movePolygon,l=d.extend,p=
d.find,e=d.isNumber,k=d.isObject,q=d.merge,t;(function(a){function d(c,f){return!(f.left>c.right||f.right<c.left||f.top>c.bottom||f.bottom<c.top)}function t(c,f){var a=!1,b=c.rect,e=c.polygon,r=c.lastCollidedWith,y=function(f){var a=d(b,f.rect);a&&(c.rotation%90||f.rotation%90)&&(a=h(e,f.polygon));return a};r&&((a=y(r))||delete c.lastCollidedWith);a||(a=!!p(f,function(f){var a=y(f);a&&(c.lastCollidedWith=f);return a}));return a}function g(c,f){f=4*c;var a=Math.ceil((Math.sqrt(f)-1)/2),b=2*a+1,d=Math.pow(b,
2),e=!1;--b;1E4>=c&&("boolean"===typeof e&&f>=d-b&&(e={x:a-(d-f),y:-a}),d-=b,"boolean"===typeof e&&f>=d-b&&(e={x:-a,y:-a+(d-f)}),d-=b,"boolean"===typeof e&&(e=f>=d-b?{x:-a+(d-f),y:a}:{x:a,y:a-(d-f-b)}),e.x*=5,e.y*=5);return e}function b(c,f){var a=f.width/2,b=-(f.height/2),e=f.height/2;return!(-(f.width/2)<c.left&&a>c.right&&b<c.top&&e>c.bottom)}a.isRectanglesIntersecting=d;a.intersectsAnyWord=t;a.archimedeanSpiral=function(c,f){var a=f.field;f=!1;a=a.width*a.width+a.height*a.height;var b=.8*c;1E4>=
c&&(f={x:b*Math.cos(b),y:b*Math.sin(b)},Math.min(Math.abs(f.x),Math.abs(f.y))<a||(f=!1));return f};a.squareSpiral=g;a.rectangularSpiral=function(c,a){c=g(c,a);a=a.field;c&&(c.x*=a.ratioX,c.y*=a.ratioY);return c};a.getRandomPosition=function(c){return Math.round(c*(Math.random()+.5)/2)};a.getScale=function(c,a,b){var f=2*Math.max(Math.abs(b.top),Math.abs(b.bottom));b=2*Math.max(Math.abs(b.left),Math.abs(b.right));return Math.min(0<b?1/b*c:1,0<f?1/f*a:1)};a.getPlayingField=function(c,a,b){b=b.reduce(function(c,
a){a=a.dimensions;var b=Math.max(a.width,a.height);c.maxHeight=Math.max(c.maxHeight,a.height);c.maxWidth=Math.max(c.maxWidth,a.width);c.area+=b*b;return c},{maxHeight:0,maxWidth:0,area:0});b=Math.max(b.maxHeight,b.maxWidth,.85*Math.sqrt(b.area));var f=c>a?c/a:1;c=a>c?a/c:1;return{width:b*f,height:b*c,ratioX:f,ratioY:c}};a.getRotation=function(c,a,b,d){var f=!1;e(c)&&e(a)&&e(b)&&e(d)&&0<c&&-1<a&&d>b&&(f=b+a%c*((d-b)/(c-1||1)));return f};a.getSpiral=function(c,a){var b,f=[];for(b=1;1E4>b;b++)f.push(c(b,
a));return function(c){return 1E4>=c?f[c-1]:!1}};a.outsidePlayingField=b;a.intersectionTesting=function(c,a){var f=a.placed,d=a.field,e=a.rectangle,g=a.polygon,y=a.spiral,u=1,n={x:0,y:0},h=c.rect=l({},e);c.polygon=g;for(c.rotation=a.rotation;!1!==n&&(t(c,f)||b(h,d));)n=y(u),k(n)&&(h.left=e.left+n.x,h.right=e.right+n.x,h.top=e.top+n.y,h.bottom=e.bottom+n.y,c.polygon=m(n.x,n.y,g)),u++;return n};a.extendPlayingField=function(a,b){if(k(a)&&k(b)){var c=b.bottom-b.top;var f=b.right-b.left;b=a.ratioX;var e=
a.ratioY;c=f*b>c*e?f:c;a=q(a,{width:a.width+c*b*2,height:a.height+c*e*2})}return a};a.updateFieldBoundaries=function(a,b){if(!e(a.left)||a.left>b.left)a.left=b.left;if(!e(a.right)||a.right<b.right)a.right=b.right;if(!e(a.top)||a.top>b.top)a.top=b.top;if(!e(a.bottom)||a.bottom<b.bottom)a.bottom=b.bottom;return a}})(t||(t={}));return t});m(a,"Series/Wordcloud/WordcloudSeries.js",[a["Core/Globals.js"],a["Mixins/Polygon.js"],a["Core/Series/Series.js"],a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"],
a["Series/Wordcloud/WordcloudPoint.js"],a["Series/Wordcloud/WordcloudUtils.js"]],function(a,d,h,m,l,p,e){var k=this&&this.__extends||function(){var a=function(b,c){a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return a(b,c)};return function(b,c){function e(){this.constructor=b}a(b,c);b.prototype=null===c?Object.create(c):(e.prototype=c.prototype,new e)}}(),q=a.noop,t=d.getBoundingBoxFromPolygon,
B=d.getPolygon,z=d.isPolygonsColliding,x=d.rotate2DToOrigin;d=d.rotate2DToPoint;var g=m.seriesTypes.column,b=l.extend,c=l.isArray,f=l.isNumber,A=l.isObject,G=l.merge;l=function(d){function r(){var a=null!==d&&d.apply(this,arguments)||this;a.data=void 0;a.options=void 0;a.points=void 0;return a}k(r,d);r.prototype.bindAxes=function(){var a={endOnTick:!1,gridLineWidth:0,lineWidth:0,maxPadding:0,startOnTick:!1,title:void 0,tickPositions:[]};h.prototype.bindAxes.call(this);b(this.yAxis.options,a);b(this.xAxis.options,
a)};r.prototype.pointAttribs=function(b,c){b=a.seriesTypes.column.prototype.pointAttribs.call(this,b,c);delete b.stroke;delete b["stroke-width"];return b};r.prototype.deriveFontSize=function(a,b,c){a=f(a)?a:0;b=f(b)?b:1;c=f(c)?c:1;return Math.floor(Math.max(c,a*b))};r.prototype.drawPoints=function(){var a=this,c=a.hasRendered,d=a.xAxis,g=a.yAxis,r=a.group,h=a.options,l=h.animation,m=h.allowExtendPlayingField,p=a.chart.renderer,k=p.text().add(r),q=[],C=a.placementStrategy[h.placementStrategy],z=h.rotation,
x=a.points.map(function(a){return a.weight}),E=Math.max.apply(null,x),D=a.points.concat().sort(function(a,b){return b.weight-a.weight});a.group.attr({scaleX:1,scaleY:1});D.forEach(function(c){var d=a.deriveFontSize(1/E*c.weight,h.maxFontSize,h.minFontSize);d=b({fontSize:d+"px"},h.style);k.css(d).attr({x:0,y:0,text:c.name});d=k.getBBox(!0);c.dimensions={height:d.height,width:d.width}});var w=e.getPlayingField(d.len,g.len,D);var F=e.getSpiral(a.spirals[h.spiral],{field:w});D.forEach(function(d){var g=
a.deriveFontSize(1/E*d.weight,h.maxFontSize,h.minFontSize);g=b({fontSize:g+"px"},h.style);var k=C(d,{data:D,field:w,placed:q,rotation:z}),n=b(a.pointAttribs(d,d.selected&&"select"),{align:"center","alignment-baseline":"middle",x:k.x,y:k.y,text:d.name,rotation:f(k.rotation)?k.rotation:void 0}),y=B(k.x,k.y,d.dimensions.width,d.dimensions.height,k.rotation),v=t(y),u=e.intersectionTesting(d,{rectangle:v,polygon:y,field:w,placed:q,spiral:F,rotation:k.rotation});!u&&m&&(w=e.extendPlayingField(w,v),u=e.intersectionTesting(d,
{rectangle:v,polygon:y,field:w,placed:q,spiral:F,rotation:k.rotation}));A(u)?(n.x=(n.x||0)+u.x,n.y=(n.y||0)+u.y,v.left+=u.x,v.right+=u.x,v.top+=u.y,v.bottom+=u.y,w=e.updateFieldBoundaries(w,v),q.push(d),d.isNull=!1):d.isNull=!0;if(l){var x={x:n.x,y:n.y};c?(delete n.x,delete n.y):(n.x=0,n.y=0)}d.draw({animatableAttribs:x,attribs:n,css:g,group:r,renderer:p,shapeArgs:void 0,shapeType:"text"})});k=k.destroy();d=e.getScale(d.len,g.len,w);a.group.attr({scaleX:d,scaleY:d})};r.prototype.hasData=function(){return A(this)&&
!0===this.visible&&c(this.points)&&0<this.points.length};r.prototype.getPlotBox=function(){var a=this.chart,b=a.inverted,c=this[b?"yAxis":"xAxis"];b=this[b?"xAxis":"yAxis"];return{translateX:(c?c.left:a.plotLeft)+(c?c.len:a.plotWidth)/2,translateY:(b?b.top:a.plotTop)+(b?b.len:a.plotHeight)/2,scaleX:1,scaleY:1}};r.defaultOptions=G(g.defaultOptions,{allowExtendPlayingField:!0,animation:{duration:500},borderWidth:0,clip:!1,colorByPoint:!0,minFontSize:1,maxFontSize:25,placementStrategy:"center",rotation:{from:0,
orientations:2,to:90},showInLegend:!1,spiral:"rectangular",style:{fontFamily:"sans-serif",fontWeight:"900",whiteSpace:"nowrap"},tooltip:{followPointer:!0,pointFormat:'<span style="color:{point.color}">\u25cf</span> {series.name}: <b>{point.weight}</b><br/>'}});return r}(g);b(l.prototype,{animate:h.prototype.animate,animateDrilldown:q,animateDrillupFrom:q,pointClass:p,setClip:q,placementStrategy:{random:function(a,b){var c=b.field;b=b.rotation;return{x:e.getRandomPosition(c.width)-c.width/2,y:e.getRandomPosition(c.height)-
c.height/2,rotation:e.getRotation(b.orientations,a.index,b.from,b.to)}},center:function(a,b){b=b.rotation;return{x:0,y:0,rotation:e.getRotation(b.orientations,a.index,b.from,b.to)}}},pointArrayMap:["weight"],spirals:{archimedean:e.archimedeanSpiral,rectangular:e.rectangularSpiral,square:e.squareSpiral},utils:{extendPlayingField:e.extendPlayingField,getRotation:e.getRotation,isPolygonsColliding:z,rotate2DToOrigin:x,rotate2DToPoint:d}});m.registerSeriesType("wordcloud",l);"";return l});m(a,"masters/modules/wordcloud.src.js",
[],function(){})});
//# sourceMappingURL=wordcloud.js.map