/*
 Highcharts JS v9.0.1 (2021-03-26)

 Accessibility module

 (c) 2010-2021 Highsoft AS
 Author: Oystein Moseng

 License: www.highcharts.com/license
*/
(function(b){"object"===typeof module&&module.exports?(b["default"]=b,module.exports=b):"function"===typeof define&&define.amd?define("highcharts/modules/accessibility",["highcharts"],function(v){b(v);b.Highcharts=v;return b}):b("undefined"!==typeof Highcharts?Highcharts:void 0)})(function(b){function v(b,k,n,p){b.hasOwnProperty(k)||(b[k]=p.apply(null,n))}b=b?b._modules:{};v(b,"Accessibility/Utils/HTMLUtilities.js",[b["Core/Globals.js"],b["Core/Utilities.js"]],function(b,k){var x=b.doc,p=b.win,r=
k.merge;return{addClass:function(b,h){b.classList?b.classList.add(h):0>b.className.indexOf(h)&&(b.className+=h)},escapeStringForHTML:function(b){return b.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")},getElement:function(b){return x.getElementById(b)},getFakeMouseEvent:function(b){if("function"===typeof p.MouseEvent)return new p.MouseEvent(b);if(x.createEvent){var g=x.createEvent("MouseEvent");if(g.initMouseEvent)return g.initMouseEvent(b,
!0,!0,p,"click"===b?1:0,0,0,0,0,!1,!1,!1,!1,0,null),g}return{type:b}},getHeadingTagNameForElement:function(b){var g=function(b){b=parseInt(b.slice(1),10);return"h"+Math.min(6,b+1)},z=function(b){var f;a:{for(f=b;f=f.previousSibling;){var e=f.tagName||"";if(/H[1-6]/.test(e)){f=e;break a}}f=""}if(f)return g(f);b=b.parentElement;if(!b)return"p";f=b.tagName;return/H[1-6]/.test(f)?g(f):z(b)};return z(b)},removeElement:function(b){b&&b.parentNode&&b.parentNode.removeChild(b)},reverseChildNodes:function(b){for(var g=
b.childNodes.length;g--;)b.appendChild(b.childNodes[g])},setElAttrs:function(b,h){Object.keys(h).forEach(function(g){var q=h[g];null===q?b.removeAttribute(g):b.setAttribute(g,q)})},stripHTMLTagsFromString:function(b){return"string"===typeof b?b.replace(/<\/?[^>]+(>|$)/g,""):b},visuallyHideElement:function(b){r(!0,b.style,{position:"absolute",width:"1px",height:"1px",overflow:"hidden",whiteSpace:"nowrap",clip:"rect(1px, 1px, 1px, 1px)",marginTop:"-3px","-ms-filter":"progid:DXImageTransform.Microsoft.Alpha(Opacity=1)",
filter:"alpha(opacity=1)",opacity:"0.01"})}}});v(b,"Accessibility/Utils/ChartUtilities.js",[b["Accessibility/Utils/HTMLUtilities.js"],b["Core/Utilities.js"]],function(b,k){function x(a){var c=a.chart,d={},l="Seconds";d.Seconds=((a.max||0)-(a.min||0))/1E3;d.Minutes=d.Seconds/60;d.Hours=d.Minutes/60;d.Days=d.Hours/24;["Minutes","Hours","Days"].forEach(function(a){2<d[a]&&(l=a)});var e=d[l].toFixed("Seconds"!==l&&"Minutes"!==l?1:0);return c.langFormat("accessibility.axis.timeRange"+l,{chart:c,axis:a,
range:e.replace(".0","")})}function p(a){var c,d,l=a.chart,e=(null===(d=null===(c=l.options)||void 0===c?void 0:c.accessibility)||void 0===d?void 0:d.screenReaderSection.axisRangeDateFormat)||"";c=function(d){return a.dateTime?l.time.dateFormat(e,a[d]):a[d]};return l.langFormat("accessibility.axis.rangeFromTo",{chart:l,axis:a,rangeFrom:c("min"),rangeTo:c("max")})}function r(a){var c,d;if(null===(c=a.points)||void 0===c?0:c.length)return a=f(a.points,function(a){return!!a.graphic}),null===(d=null===
a||void 0===a?void 0:a.graphic)||void 0===d?void 0:d.element}function g(a){var c=r(a);return c&&c.parentNode||a.graph&&a.graph.element||a.group&&a.group.element}function h(a,c){c.setAttribute("aria-hidden",!1);c!==a.renderTo&&c.parentNode&&(Array.prototype.forEach.call(c.parentNode.childNodes,function(a){a.hasAttribute("aria-hidden")||a.setAttribute("aria-hidden",!0)}),h(a,c.parentNode))}var z=b.stripHTMLTagsFromString,q=k.defined,f=k.find,e=k.fireEvent;return{getChartTitle:function(a){return z(a.options.title.text||
a.langFormat("accessibility.defaultChartTitle",{chart:a}))},getAxisDescription:function(a){return a&&(a.userOptions&&a.userOptions.accessibility&&a.userOptions.accessibility.description||a.axisTitle&&a.axisTitle.textStr||a.options.id||a.categories&&"categories"||a.dateTime&&"Time"||"values")},getAxisRangeDescription:function(a){var c=a.options||{};return c.accessibility&&"undefined"!==typeof c.accessibility.rangeDescription?c.accessibility.rangeDescription:a.categories?(c=a.chart,a=a.dataMax&&a.dataMin?
c.langFormat("accessibility.axis.rangeCategories",{chart:c,axis:a,numCategories:a.dataMax-a.dataMin+1}):"",a):!a.dateTime||0!==a.min&&0!==a.dataMin?p(a):x(a)},getPointFromXY:function(a,c,d){for(var l=a.length,e;l--;)if(e=f(a[l].points||[],function(a){return a.x===c&&a.y===d}))return e},getSeriesFirstPointElement:r,getSeriesFromName:function(a,c){return c?(a.series||[]).filter(function(a){return a.name===c}):a.series},getSeriesA11yElement:g,unhideChartElementFromAT:h,hideSeriesFromAT:function(a){(a=
g(a))&&a.setAttribute("aria-hidden",!0)},scrollToPoint:function(a){var c=a.series.xAxis,d=a.series.yAxis,l=(null===c||void 0===c?0:c.scrollbar)?c:d;if((c=null===l||void 0===l?void 0:l.scrollbar)&&q(c.to)&&q(c.from)){d=c.to-c.from;if(q(l.dataMin)&&q(l.dataMax)){var b=l.toPixels(l.dataMin),f=l.toPixels(l.dataMax);a=(l.toPixels(a["xAxis"===l.coll?"x":"y"]||0)-b)/(f-b)}else a=0;c.updatePosition(a-d/2,a+d/2);e(c,"changed",{from:c.from,to:c.to,trigger:"scrollbar",DOMEvent:null})}}}});v(b,"Accessibility/KeyboardNavigationHandler.js",
[b["Core/Utilities.js"]],function(b){function k(b,k){this.chart=b;this.keyCodeMap=k.keyCodeMap||[];this.validate=k.validate;this.init=k.init;this.terminate=k.terminate;this.response={success:1,prev:2,next:3,noHandler:4,fail:5}}var x=b.find;k.prototype={run:function(b){var k=b.which||b.keyCode,g=this.response.noHandler,h=x(this.keyCodeMap,function(b){return-1<b[0].indexOf(k)});h?g=h[1].call(this,k,b):9===k&&(g=this.response[b.shiftKey?"prev":"next"]);return g}};return k});v(b,"Accessibility/Utils/DOMElementProvider.js",
[b["Core/Globals.js"],b["Accessibility/Utils/HTMLUtilities.js"],b["Core/Utilities.js"]],function(b,k,n){var x=b.doc,r=k.removeElement;b=n.extend;k=function(){this.elements=[]};b(k.prototype,{createElement:function(){var b=x.createElement.apply(x,arguments);this.elements.push(b);return b},destroyCreatedElements:function(){this.elements.forEach(function(b){r(b)});this.elements=[]}});return k});v(b,"Accessibility/Utils/EventProvider.js",[b["Core/Globals.js"],b["Core/Utilities.js"]],function(b,k){var x=
k.addEvent;k=k.extend;var p=function(){this.eventRemovers=[]};k(p.prototype,{addEvent:function(){var k=x.apply(b,arguments);this.eventRemovers.push(k);return k},removeAddedEvents:function(){this.eventRemovers.forEach(function(b){b()});this.eventRemovers=[]}});return p});v(b,"Accessibility/AccessibilityComponent.js",[b["Accessibility/Utils/ChartUtilities.js"],b["Accessibility/Utils/DOMElementProvider.js"],b["Accessibility/Utils/EventProvider.js"],b["Core/Globals.js"],b["Accessibility/Utils/HTMLUtilities.js"],
b["Core/Utilities.js"]],function(b,k,n,p,r,g){function h(){}var z=b.unhideChartElementFromAT,q=p.doc,f=p.win,e=r.removeElement,a=r.getFakeMouseEvent;b=g.extend;var c=g.fireEvent,d=g.merge;h.prototype={initBase:function(a){this.chart=a;this.eventProvider=new n;this.domElementProvider=new k;this.keyCodes={left:37,right:39,up:38,down:40,enter:13,space:32,esc:27,tab:9}},addEvent:function(){return this.eventProvider.addEvent.apply(this.eventProvider,arguments)},createElement:function(){return this.domElementProvider.createElement.apply(this.domElementProvider,
arguments)},fireEventOnWrappedOrUnwrappedElement:function(a,d){var l=d.type;q.createEvent&&(a.dispatchEvent||a.fireEvent)?a.dispatchEvent?a.dispatchEvent(d):a.fireEvent(l,d):c(a,l,d)},fakeClickEvent:function(d){if(d){var c=a("click");this.fireEventOnWrappedOrUnwrappedElement(d,c)}},addProxyGroup:function(a){this.createOrUpdateProxyContainer();var d=this.createElement("div");Object.keys(a||{}).forEach(function(c){null!==a[c]&&d.setAttribute(c,a[c])});this.chart.a11yProxyContainer.appendChild(d);return d},
createOrUpdateProxyContainer:function(){var a=this.chart,d=a.renderer.box;a.a11yProxyContainer=a.a11yProxyContainer||this.createProxyContainerElement();d.nextSibling!==a.a11yProxyContainer&&a.container.insertBefore(a.a11yProxyContainer,d.nextSibling)},createProxyContainerElement:function(){var a=q.createElement("div");a.className="highcharts-a11y-proxy-container";return a},createProxyButton:function(a,c,e,b,f){var l=a.element,y=this.createElement("button"),D=d({"aria-label":l.getAttribute("aria-label")},
e);Object.keys(D).forEach(function(a){null!==D[a]&&y.setAttribute(a,D[a])});y.className="highcharts-a11y-proxy-button";f&&this.addEvent(y,"click",f);this.setProxyButtonStyle(y);this.updateProxyButtonPosition(y,b||a);this.proxyMouseEventsForButton(l,y);c.appendChild(y);D["aria-hidden"]||z(this.chart,y);return y},getElementPosition:function(a){var d=a.element;return(a=this.chart.renderTo)&&d&&d.getBoundingClientRect?(d=d.getBoundingClientRect(),a=a.getBoundingClientRect(),{x:d.left-a.left,y:d.top-a.top,
width:d.right-d.left,height:d.bottom-d.top}):{x:0,y:0,width:1,height:1}},setProxyButtonStyle:function(a){d(!0,a.style,{borderWidth:"0",backgroundColor:"transparent",cursor:"pointer",outline:"none",opacity:"0.001",filter:"alpha(opacity=1)",zIndex:"999",overflow:"hidden",padding:"0",margin:"0",display:"block",position:"absolute"});a.style["-ms-filter"]="progid:DXImageTransform.Microsoft.Alpha(Opacity=1)"},updateProxyButtonPosition:function(a,c){c=this.getElementPosition(c);d(!0,a.style,{width:(c.width||
1)+"px",height:(c.height||1)+"px",left:(c.x||0)+"px",top:(c.y||0)+"px"})},proxyMouseEventsForButton:function(a,d){var c=this;"click touchstart touchend touchcancel touchmove mouseover mouseenter mouseleave mouseout".split(" ").forEach(function(l){var e=0===l.indexOf("touch");c.addEvent(d,l,function(d){var b=e?c.cloneTouchEvent(d):c.cloneMouseEvent(d);a&&c.fireEventOnWrappedOrUnwrappedElement(a,b);d.stopPropagation();"touchstart"!==l&&"touchmove"!==l&&"touchend"!==l&&d.preventDefault()},{passive:!1})})},
cloneMouseEvent:function(d){if("function"===typeof f.MouseEvent)return new f.MouseEvent(d.type,d);if(q.createEvent){var c=q.createEvent("MouseEvent");if(c.initMouseEvent)return c.initMouseEvent(d.type,d.bubbles,d.cancelable,d.view||f,d.detail,d.screenX,d.screenY,d.clientX,d.clientY,d.ctrlKey,d.altKey,d.shiftKey,d.metaKey,d.button,d.relatedTarget),c}return a(d.type)},cloneTouchEvent:function(a){var d=function(a){for(var d=[],c=0;c<a.length;++c){var e=a.item(c);e&&d.push(e)}return d};if("function"===
typeof f.TouchEvent)return d=new f.TouchEvent(a.type,{touches:d(a.touches),targetTouches:d(a.targetTouches),changedTouches:d(a.changedTouches),ctrlKey:a.ctrlKey,shiftKey:a.shiftKey,altKey:a.altKey,metaKey:a.metaKey,bubbles:a.bubbles,cancelable:a.cancelable,composed:a.composed,detail:a.detail,view:a.view}),a.defaultPrevented&&d.preventDefault(),d;d=this.cloneMouseEvent(a);d.touches=a.touches;d.changedTouches=a.changedTouches;d.targetTouches=a.targetTouches;return d},destroyBase:function(){e(this.chart.a11yProxyContainer);
this.domElementProvider.destroyCreatedElements();this.eventProvider.removeAddedEvents()}};b(h.prototype,{init:function(){},getKeyboardNavigation:function(){},onChartUpdate:function(){},onChartRender:function(){},destroy:function(){}});return h});v(b,"Accessibility/KeyboardNavigation.js",[b["Core/Globals.js"],b["Core/Utilities.js"],b["Accessibility/Utils/HTMLUtilities.js"],b["Accessibility/Utils/EventProvider.js"]],function(b,k,n,p){function x(e,a){this.init(e,a)}var g=b.doc,h=b.win,z=k.addEvent,q=
k.fireEvent,f=n.getElement;z(g,"keydown",function(e){27===(e.which||e.keyCode)&&b.charts&&b.charts.forEach(function(a){a&&a.dismissPopupContent&&a.dismissPopupContent()})});b.Chart.prototype.dismissPopupContent=function(){var e=this;q(this,"dismissPopupContent",{},function(){e.tooltip&&e.tooltip.hide(0);e.hideExportMenu()})};x.prototype={init:function(e,a){var c=this,d=this.eventProvider=new p;this.chart=e;this.components=a;this.modules=[];this.currentModuleIx=0;this.update();d.addEvent(this.tabindexContainer,
"keydown",function(a){return c.onKeydown(a)});d.addEvent(this.tabindexContainer,"focus",function(a){return c.onFocus(a)});["mouseup","touchend"].forEach(function(a){return d.addEvent(g,a,function(){return c.onMouseUp()})});["mousedown","touchstart"].forEach(function(a){return d.addEvent(e.renderTo,a,function(){c.isClickingChart=!0})});d.addEvent(e.renderTo,"mouseover",function(){c.pointerIsOverChart=!0});d.addEvent(e.renderTo,"mouseout",function(){c.pointerIsOverChart=!1});this.modules.length&&this.modules[0].init(1)},
update:function(e){var a=this.chart.options.accessibility;a=a&&a.keyboardNavigation;var c=this.components;this.updateContainerTabindex();a&&a.enabled&&e&&e.length?(this.modules=e.reduce(function(a,e){e=c[e].getKeyboardNavigation();return a.concat(e)},[]),this.updateExitAnchor()):(this.modules=[],this.currentModuleIx=0,this.removeExitAnchor())},onFocus:function(e){var a,c=this.chart;e=e.relatedTarget&&c.container.contains(e.relatedTarget);this.isClickingChart||e||(null===(a=this.modules[0])||void 0===
a?void 0:a.init(1))},onMouseUp:function(){delete this.isClickingChart;if(!this.keyboardReset&&!this.pointerIsOverChart){var e=this.chart,a=this.modules&&this.modules[this.currentModuleIx||0];a&&a.terminate&&a.terminate();e.focusElement&&e.focusElement.removeFocusBorder();this.currentModuleIx=0;this.keyboardReset=!0}},onKeydown:function(e){e=e||h.event;var a,c=this.modules&&this.modules.length&&this.modules[this.currentModuleIx];this.keyboardReset=!1;if(c){var d=c.run(e);d===c.response.success?a=!0:
d===c.response.prev?a=this.prev():d===c.response.next&&(a=this.next());a&&(e.preventDefault(),e.stopPropagation())}},prev:function(){return this.move(-1)},next:function(){return this.move(1)},move:function(e){var a=this.modules&&this.modules[this.currentModuleIx];a&&a.terminate&&a.terminate(e);this.chart.focusElement&&this.chart.focusElement.removeFocusBorder();this.currentModuleIx+=e;if(a=this.modules&&this.modules[this.currentModuleIx]){if(a.validate&&!a.validate())return this.move(e);if(a.init)return a.init(e),
!0}this.currentModuleIx=0;0<e?(this.exiting=!0,this.exitAnchor.focus()):this.tabindexContainer.focus();return!1},updateExitAnchor:function(){var e=f("highcharts-end-of-chart-marker-"+this.chart.index);this.removeExitAnchor();e?(this.makeElementAnExitAnchor(e),this.exitAnchor=e):this.createExitAnchor()},updateContainerTabindex:function(){var e=this.chart.options.accessibility;e=e&&e.keyboardNavigation;e=!(e&&!1===e.enabled);var a=this.chart,c=a.container;a.renderTo.hasAttribute("tabindex")&&(c.removeAttribute("tabindex"),
c=a.renderTo);this.tabindexContainer=c;var d=c.getAttribute("tabindex");e&&!d?c.setAttribute("tabindex","0"):e||a.container.removeAttribute("tabindex")},makeElementAnExitAnchor:function(e){var a=this.tabindexContainer.getAttribute("tabindex")||0;e.setAttribute("class","highcharts-exit-anchor");e.setAttribute("tabindex",a);e.setAttribute("aria-hidden",!1);this.addExitAnchorEventsToEl(e)},createExitAnchor:function(){var e=this.chart,a=this.exitAnchor=g.createElement("div");e.renderTo.appendChild(a);
this.makeElementAnExitAnchor(a)},removeExitAnchor:function(){this.exitAnchor&&this.exitAnchor.parentNode&&(this.exitAnchor.parentNode.removeChild(this.exitAnchor),delete this.exitAnchor)},addExitAnchorEventsToEl:function(e){var a=this.chart,c=this;this.eventProvider.addEvent(e,"focus",function(d){d=d||h.event;d.relatedTarget&&a.container.contains(d.relatedTarget)||c.exiting?c.exiting=!1:(c.tabindexContainer.focus(),d.preventDefault(),c.modules&&c.modules.length&&(c.currentModuleIx=c.modules.length-
1,(d=c.modules[c.currentModuleIx])&&d.validate&&!d.validate()?c.prev():d&&d.init(-1)))})},destroy:function(){this.removeExitAnchor();this.eventProvider.removeAddedEvents();this.chart.container.removeAttribute("tabindex")}};return x});v(b,"Accessibility/Components/LegendComponent.js",[b["Core/Globals.js"],b["Core/Legend.js"],b["Core/Utilities.js"],b["Accessibility/AccessibilityComponent.js"],b["Accessibility/KeyboardNavigationHandler.js"],b["Accessibility/Utils/HTMLUtilities.js"]],function(b,k,n,p,
r,g){function h(a){var d=a.legend&&a.legend.allItems,c=a.options.legend.accessibility||{};return!(!d||!d.length||a.colorAxis&&a.colorAxis.length||!1===c.enabled)}var z=n.addEvent,q=n.extend,f=n.find,e=n.fireEvent,a=g.removeElement,c=g.stripHTMLTagsFromString;b.Chart.prototype.highlightLegendItem=function(a){var d=this.legend.allItems,c=this.highlightedLegendItemIx;if(d[a]){d[c]&&e(d[c].legendGroup.element,"mouseout");c=this.legend;var b=c.allItems[a].pageIx,f=c.currentPage;"undefined"!==typeof b&&
b+1!==f&&c.scroll(1+b-f);this.setFocusToElement(d[a].legendItem,d[a].a11yProxyElement);e(d[a].legendGroup.element,"mouseover");return!0}return!1};z(k,"afterColorizeItem",function(a){var d=a.item;this.chart.options.accessibility.enabled&&d&&d.a11yProxyElement&&d.a11yProxyElement.setAttribute("aria-pressed",a.visible?"true":"false")});b=function(){};b.prototype=new p;q(b.prototype,{init:function(){var a=this;this.proxyElementsList=[];this.recreateProxies();this.addEvent(k,"afterScroll",function(){this.chart===
a.chart&&(a.updateProxiesPositions(),a.updateLegendItemProxyVisibility(),this.chart.highlightLegendItem(a.highlightedLegendItemIx))});this.addEvent(k,"afterPositionItem",function(d){this.chart===a.chart&&this.chart.renderer&&a.updateProxyPositionForItem(d.item)})},updateLegendItemProxyVisibility:function(){var a=this.chart.legend,c=a.currentPage||1,b=a.clipHeight||0;(a.allItems||[]).forEach(function(d){var e=d.pageIx||0,l=d._legendItemPos?d._legendItemPos[1]:0,f=d.legendItem?Math.round(d.legendItem.getBBox().height):
0;e=l+f-a.pages[e]>b||e!==c-1;d.a11yProxyElement&&(d.a11yProxyElement.style.visibility=e?"hidden":"visible")})},onChartRender:function(){h(this.chart)?this.updateProxiesPositions():this.removeProxies()},onChartUpdate:function(){this.updateLegendTitle()},updateProxiesPositions:function(){for(var a=0,c=this.proxyElementsList;a<c.length;a++){var e=c[a];this.updateProxyButtonPosition(e.element,e.posElement)}},updateProxyPositionForItem:function(a){var d=f(this.proxyElementsList,function(d){return d.item===
a});d&&this.updateProxyButtonPosition(d.element,d.posElement)},recreateProxies:function(){this.removeProxies();h(this.chart)&&(this.addLegendProxyGroup(),this.proxyLegendItems(),this.updateLegendItemProxyVisibility())},removeProxies:function(){a(this.legendProxyGroup);this.proxyElementsList=[]},updateLegendTitle:function(){var a,e,b=this.chart,f=c(((null===(e=null===(a=b.legend)||void 0===a?void 0:a.options.title)||void 0===e?void 0:e.text)||"").replace(/<br ?\/?>/g," "));a=b.langFormat("accessibility.legend.legendLabel"+
(f?"":"NoTitle"),{chart:b,legendTitle:f});this.legendProxyGroup&&this.legendProxyGroup.setAttribute("aria-label",a)},addLegendProxyGroup:function(){this.legendProxyGroup=this.addProxyGroup({"aria-label":"_placeholder_",role:"all"===this.chart.options.accessibility.landmarkVerbosity?"region":null})},proxyLegendItems:function(){var a=this;(this.chart.legend&&this.chart.legend.allItems||[]).forEach(function(d){d.legendItem&&d.legendItem.element&&a.proxyLegendItem(d)})},proxyLegendItem:function(a){if(a.legendItem&&
a.legendGroup){var d=this.chart.langFormat("accessibility.legend.legendItem",{chart:this.chart,itemName:c(a.name),item:a}),e=a.legendGroup.div?a.legendItem:a.legendGroup;a.a11yProxyElement=this.createProxyButton(a.legendItem,this.legendProxyGroup,{tabindex:-1,"aria-pressed":a.visible,"aria-label":d},e);this.proxyElementsList.push({item:a,element:a.a11yProxyElement,posElement:e})}},getKeyboardNavigation:function(){var a=this.keyCodes,c=this;return new r(this.chart,{keyCodeMap:[[[a.left,a.right,a.up,
a.down],function(a){return c.onKbdArrowKey(this,a)}],[[a.enter,a.space],function(){return c.onKbdClick(this)}]],validate:function(){return c.shouldHaveLegendNavigation()},init:function(a){return c.onKbdNavigationInit(a)}})},onKbdArrowKey:function(a,c){var d=this.keyCodes,e=a.response,b=this.chart,l=b.options.accessibility,f=b.legend.allItems.length;c=c===d.left||c===d.up?-1:1;return b.highlightLegendItem(this.highlightedLegendItemIx+c)?(this.highlightedLegendItemIx+=c,e.success):1<f&&l.keyboardNavigation.wrapAround?
(a.init(c),e.success):e[0<c?"next":"prev"]},onKbdClick:function(a){var c=this.chart.legend.allItems[this.highlightedLegendItemIx];c&&c.a11yProxyElement&&e(c.a11yProxyElement,"click");return a.response.success},shouldHaveLegendNavigation:function(){var a=this.chart,c=a.colorAxis&&a.colorAxis.length,e=(a.options.legend||{}).accessibility||{};return!!(a.legend&&a.legend.allItems&&a.legend.display&&!c&&e.enabled&&e.keyboardNavigation&&e.keyboardNavigation.enabled)},onKbdNavigationInit:function(a){var c=
this.chart,d=c.legend.allItems.length-1;a=0<a?0:d;c.highlightLegendItem(a);this.highlightedLegendItemIx=a}});return b});v(b,"Accessibility/Components/MenuComponent.js",[b["Core/Globals.js"],b["Core/Utilities.js"],b["Accessibility/AccessibilityComponent.js"],b["Accessibility/KeyboardNavigationHandler.js"],b["Accessibility/Utils/ChartUtilities.js"],b["Accessibility/Utils/HTMLUtilities.js"]],function(b,k,n,p,r,g){function h(e){return e.exportSVGElements&&e.exportSVGElements[0]}k=k.extend;var z=r.unhideChartElementFromAT,
q=g.removeElement,f=g.getFakeMouseEvent;b.Chart.prototype.showExportMenu=function(){var e=h(this);if(e&&(e=e.element,e.onclick))e.onclick(f("click"))};b.Chart.prototype.hideExportMenu=function(){var e=this.exportDivElements;e&&this.exportContextMenu&&(e.forEach(function(a){if("highcharts-menu-item"===a.className&&a.onmouseout)a.onmouseout(f("mouseout"))}),this.highlightedExportItemIx=0,this.exportContextMenu.hideMenu(),this.container.focus())};b.Chart.prototype.highlightExportItem=function(e){var a=
this.exportDivElements&&this.exportDivElements[e],c=this.exportDivElements&&this.exportDivElements[this.highlightedExportItemIx];if(a&&"LI"===a.tagName&&(!a.children||!a.children.length)){var d=!!(this.renderTo.getElementsByTagName("g")[0]||{}).focus;a.focus&&d&&a.focus();if(c&&c.onmouseout)c.onmouseout(f("mouseout"));if(a.onmouseover)a.onmouseover(f("mouseover"));this.highlightedExportItemIx=e;return!0}return!1};b.Chart.prototype.highlightLastExportItem=function(){var e;if(this.exportDivElements)for(e=
this.exportDivElements.length;e--;)if(this.highlightExportItem(e))return!0;return!1};b=function(){};b.prototype=new n;k(b.prototype,{init:function(){var e=this.chart,a=this;this.addEvent(e,"exportMenuShown",function(){a.onMenuShown()});this.addEvent(e,"exportMenuHidden",function(){a.onMenuHidden()})},onMenuHidden:function(){var e=this.chart.exportContextMenu;e&&e.setAttribute("aria-hidden","true");this.isExportMenuShown=!1;this.setExportButtonExpandedState("false")},onMenuShown:function(){var e=this.chart,
a=e.exportContextMenu;a&&(this.addAccessibleContextMenuAttribs(),z(e,a));this.isExportMenuShown=!0;this.setExportButtonExpandedState("true")},setExportButtonExpandedState:function(e){var a=this.exportButtonProxy;a&&a.setAttribute("aria-expanded",e)},onChartRender:function(){var e=this.chart,a=e.options.accessibility;q(this.exportProxyGroup);var c=e.options.exporting,d=h(e);c&&!1!==c.enabled&&c.accessibility&&c.accessibility.enabled&&d&&d.element&&(this.exportProxyGroup=this.addProxyGroup("all"===
a.landmarkVerbosity?{"aria-label":e.langFormat("accessibility.exporting.exportRegionLabel",{chart:e}),role:"region"}:{}),a=h(this.chart),this.exportButtonProxy=this.createProxyButton(a,this.exportProxyGroup,{"aria-label":e.langFormat("accessibility.exporting.menuButtonLabel",{chart:e}),"aria-expanded":!1}))},addAccessibleContextMenuAttribs:function(){var e=this.chart,a=e.exportDivElements;a&&a.length&&(a.forEach(function(a){"LI"!==a.tagName||a.children&&a.children.length?a.setAttribute("aria-hidden",
"true"):a.setAttribute("tabindex",-1)}),a=a[0].parentNode,a.removeAttribute("aria-hidden"),a.setAttribute("aria-label",e.langFormat("accessibility.exporting.chartMenuLabel",{chart:e})))},getKeyboardNavigation:function(){var e=this.keyCodes,a=this.chart,c=this;return new p(a,{keyCodeMap:[[[e.left,e.up],function(){return c.onKbdPrevious(this)}],[[e.right,e.down],function(){return c.onKbdNext(this)}],[[e.enter,e.space],function(){return c.onKbdClick(this)}]],validate:function(){return a.exportChart&&
!1!==a.options.exporting.enabled&&!1!==a.options.exporting.accessibility.enabled},init:function(){var d=c.exportButtonProxy,e=a.exportingGroup;e&&d&&a.setFocusToElement(e,d)},terminate:function(){a.hideExportMenu()}})},onKbdPrevious:function(e){var a=this.chart,c=a.options.accessibility;e=e.response;for(var d=a.highlightedExportItemIx||0;d--;)if(a.highlightExportItem(d))return e.success;return c.keyboardNavigation.wrapAround?(a.highlightLastExportItem(),e.success):e.prev},onKbdNext:function(e){var a=
this.chart,c=a.options.accessibility;e=e.response;for(var d=(a.highlightedExportItemIx||0)+1;d<a.exportDivElements.length;++d)if(a.highlightExportItem(d))return e.success;return c.keyboardNavigation.wrapAround?(a.highlightExportItem(0),e.success):e.next},onKbdClick:function(e){var a=this.chart,c=a.exportDivElements[a.highlightedExportItemIx],d=h(a).element;this.isExportMenuShown?this.fakeClickEvent(c):(this.fakeClickEvent(d),a.highlightExportItem(0));return e.response.success}});return b});v(b,"Accessibility/Components/SeriesComponent/SeriesKeyboardNavigation.js",
[b["Core/Chart/Chart.js"],b["Core/Series/Point.js"],b["Core/Series/Series.js"],b["Core/Series/SeriesRegistry.js"],b["Core/Utilities.js"],b["Accessibility/KeyboardNavigationHandler.js"],b["Accessibility/Utils/EventProvider.js"],b["Accessibility/Utils/ChartUtilities.js"]],function(b,k,n,p,r,g,h,z){function q(a){var c=a.index,d=a.series.points,e=d.length;if(d[c]!==a)for(;e--;){if(d[e]===a)return e}else return c}function f(a){var c=a.chart.options.accessibility.keyboardNavigation.seriesNavigation,d=a.options.accessibility||
{},e=d.keyboardNavigation;return e&&!1===e.enabled||!1===d.enabled||!1===a.options.enableMouseTracking||!a.visible||c.pointNavigationEnabledThreshold&&c.pointNavigationEnabledThreshold<=a.points.length}function e(a){var c,d=a.series.chart.options.accessibility,e=!1===(null===(c=a.options.accessibility)||void 0===c?void 0:c.enabled);return a.isNull&&d.keyboardNavigation.seriesNavigation.skipNullPoints||!1===a.visible||!1===a.isInside||e||f(a.series)}function a(a,c,d,e){var b=Infinity,l=c.points.length,
f=function(a){return!(y(a.plotX)&&y(a.plotY))};if(!f(a)){for(;l--;){var t=c.points[l];if(!f(t)&&(t=(a.plotX-t.plotX)*(a.plotX-t.plotX)*(d||1)+(a.plotY-t.plotY)*(a.plotY-t.plotY)*(e||1),t<b)){b=t;var m=l}}return y(m)?c.points[m]:void 0}}function c(a){var c=!1;delete a.highlightedPoint;return c=a.series.reduce(function(a,c){return a||c.highlightFirstValidPoint()},!1)}function d(a,c){this.keyCodes=c;this.chart=a}var l=p.seriesTypes,y=r.defined;p=r.extend;var G=r.fireEvent,F=z.getPointFromXY,x=z.getSeriesFromName,
v=z.scrollToPoint;n.prototype.keyboardMoveVertical=!0;["column","pie"].forEach(function(a){l[a]&&(l[a].prototype.keyboardMoveVertical=!1)});k.prototype.highlight=function(){var a=this.series.chart;if(this.isNull)a.tooltip&&a.tooltip.hide(0);else this.onMouseOver();v(this);this.graphic&&a.setFocusToElement(this.graphic);a.highlightedPoint=this;return this};b.prototype.highlightAdjacentPoint=function(a){var c=this.series,d=this.highlightedPoint,b=d&&q(d)||0,l=d&&d.series.points,y=this.series&&this.series[this.series.length-
1];y=y&&y.points&&y.points[y.points.length-1];if(!c[0]||!c[0].points)return!1;if(d){if(c=c[d.series.index+(a?1:-1)],b=l[b+(a?1:-1)],!b&&c&&(b=c.points[a?0:c.points.length-1]),!b)return!1}else b=a?c[0].points[0]:y;return e(b)?(c=b.series,f(c)?this.highlightedPoint=a?c.points[c.points.length-1]:c.points[0]:this.highlightedPoint=b,this.highlightAdjacentPoint(a)):b.highlight()};n.prototype.highlightFirstValidPoint=function(){var a=this.chart.highlightedPoint,c=(a&&a.series)===this?q(a):0;a=this.points;
var d=a.length;if(a&&d){for(var b=c;b<d;++b)if(!e(a[b]))return a[b].highlight();for(;0<=c;--c)if(!e(a[c]))return a[c].highlight()}return!1};b.prototype.highlightAdjacentSeries=function(c){var d,b=this.highlightedPoint;var e=(d=this.series&&this.series[this.series.length-1])&&d.points&&d.points[d.points.length-1];if(!this.highlightedPoint)return d=c?this.series&&this.series[0]:d,(e=c?d&&d.points&&d.points[0]:e)?e.highlight():!1;d=this.series[b.series.index+(c?-1:1)];if(!d)return!1;e=a(b,d,4);if(!e)return!1;
if(f(d))return e.highlight(),c=this.highlightAdjacentSeries(c),c?c:(b.highlight(),!1);e.highlight();return e.series.highlightFirstValidPoint()};b.prototype.highlightAdjacentPointVertical=function(a){var c=this.highlightedPoint,d=Infinity,b;if(!y(c.plotX)||!y(c.plotY))return!1;this.series.forEach(function(l){f(l)||l.points.forEach(function(f){if(y(f.plotY)&&y(f.plotX)&&f!==c){var t=f.plotY-c.plotY,g=Math.abs(f.plotX-c.plotX);g=Math.abs(t)*Math.abs(t)+g*g*4;l.yAxis&&l.yAxis.reversed&&(t*=-1);!(0>=t&&
a||0<=t&&!a||5>g||e(f))&&g<d&&(d=g,b=f)}})});return b?b.highlight():!1};p(d.prototype,{init:function(){var a=this,d=this.chart,b=this.eventProvider=new h;b.addEvent(n,"destroy",function(){return a.onSeriesDestroy(this)});b.addEvent(d,"afterDrilldown",function(){c(this);this.focusElement&&this.focusElement.removeFocusBorder()});b.addEvent(d,"drilldown",function(c){c=c.point;var d=c.series;a.lastDrilledDownPoint={x:c.x,y:c.y,seriesName:d?d.name:""}});b.addEvent(d,"drillupall",function(){setTimeout(function(){a.onDrillupAll()},
10)})},onDrillupAll:function(){var a=this.lastDrilledDownPoint,c=this.chart,d=a&&x(c,a.seriesName),b;a&&d&&y(a.x)&&y(a.y)&&(b=F(d,a.x,a.y));c.container&&c.container.focus();b&&b.highlight&&b.highlight();c.focusElement&&c.focusElement.removeFocusBorder()},getKeyboardNavigationHandler:function(){var a=this,c=this.keyCodes,d=this.chart,b=d.inverted;return new g(d,{keyCodeMap:[[b?[c.up,c.down]:[c.left,c.right],function(c){return a.onKbdSideways(this,c)}],[b?[c.left,c.right]:[c.up,c.down],function(c){return a.onKbdVertical(this,
c)}],[[c.enter,c.space],function(a,c){if(a=d.highlightedPoint)c.point=a,G(a.series,"click",c),a.firePointEvent("click");return this.response.success}]],init:function(c){return a.onHandlerInit(this,c)},terminate:function(){return a.onHandlerTerminate()}})},onKbdSideways:function(a,c){var d=this.keyCodes;return this.attemptHighlightAdjacentPoint(a,c===d.right||c===d.down)},onKbdVertical:function(a,c){var d=this.chart,b=this.keyCodes;c=c===b.down||c===b.right;b=d.options.accessibility.keyboardNavigation.seriesNavigation;
if(b.mode&&"serialize"===b.mode)return this.attemptHighlightAdjacentPoint(a,c);d[d.highlightedPoint&&d.highlightedPoint.series.keyboardMoveVertical?"highlightAdjacentPointVertical":"highlightAdjacentSeries"](c);return a.response.success},onHandlerInit:function(a,d){var b=this.chart;if(0<d)c(b);else{d=b.series.length;for(var e;d--&&!(b.highlightedPoint=b.series[d].points[b.series[d].points.length-1],e=b.series[d].highlightFirstValidPoint()););}return a.response.success},onHandlerTerminate:function(){var a,
c,d=this.chart,b=d.highlightedPoint;null===(a=d.tooltip)||void 0===a?void 0:a.hide(0);null===(c=null===b||void 0===b?void 0:b.onMouseOut)||void 0===c?void 0:c.call(b);delete d.highlightedPoint},attemptHighlightAdjacentPoint:function(a,c){var d=this.chart,b=d.options.accessibility.keyboardNavigation.wrapAround;return d.highlightAdjacentPoint(c)?a.response.success:b?a.init(c?1:-1):a.response[c?"next":"prev"]},onSeriesDestroy:function(a){var c=this.chart;c.highlightedPoint&&c.highlightedPoint.series===
a&&(delete c.highlightedPoint,c.focusElement&&c.focusElement.removeFocusBorder())},destroy:function(){this.eventProvider.removeAddedEvents()}});return d});v(b,"Accessibility/Components/AnnotationsA11y.js",[b["Accessibility/Utils/HTMLUtilities.js"]],function(b){function k(b){return(b.annotations||[]).reduce(function(b,f){var e;!1!==(null===(e=f.options)||void 0===e?void 0:e.visible)&&(b=b.concat(f.labels));return b},[])}function n(b){var g,f,e,a,c=null===(f=null===(g=b.options)||void 0===g?void 0:
g.accessibility)||void 0===f?void 0:f.description;return c?c:(null===(a=null===(e=b.graphic)||void 0===e?void 0:e.text)||void 0===a?void 0:a.textStr)||""}function p(b){var g,f,e=null===(f=null===(g=b.options)||void 0===g?void 0:g.accessibility)||void 0===f?void 0:f.description;if(e)return e;g=b.chart;e=n(b);var a=b.points.filter(function(a){return!!a.graphic}).map(function(a){var c,d;if(!(d=null===(c=null===a||void 0===a?void 0:a.accessibility)||void 0===c?void 0:c.valueDescription)){var b,e;d=(null===
(e=null===(b=null===a||void 0===a?void 0:a.graphic)||void 0===b?void 0:b.element)||void 0===e?void 0:e.getAttribute("aria-label"))||""}a=(null===a||void 0===a?void 0:a.series.name)||"";return(a?a+", ":"")+"data point "+d}).filter(function(a){return!!a}),c=a.length;f="accessibility.screenReaderSection.annotations.description"+(1<c?"MultiplePoints":c?"SinglePoint":"NoPoints");b={annotationText:e,annotation:b,numPoints:c,annotationPoint:a[0],additionalAnnotationPoints:a.slice(1)};return g.langFormat(f,
b)}function r(b){return k(b).map(function(b){return(b=g(h(p(b))))?"<li>"+b+"</li>":""})}var g=b.escapeStringForHTML,h=b.stripHTMLTagsFromString;return{getAnnotationsInfoHTML:function(b){var g=b.annotations;return g&&g.length?'<ul style="list-style-type: none">'+r(b).join(" ")+"</ul>":""},getAnnotationLabelDescription:p,getAnnotationListItems:r,getPointAnnotationTexts:function(b){var g=k(b.series.chart).filter(function(f){return-1<f.points.indexOf(b)});return g.length?g.map(function(b){return""+n(b)}):
[]}}});v(b,"Accessibility/Components/SeriesComponent/SeriesDescriber.js",[b["Accessibility/Components/AnnotationsA11y.js"],b["Accessibility/Utils/ChartUtilities.js"],b["Accessibility/Utils/HTMLUtilities.js"],b["Core/Tooltip.js"],b["Core/Utilities.js"]],function(b,k,n,p,r){function g(a){var c=a.index;return a.series&&a.series.data&&J(c)?K(a.series.data,function(a){return!!(a&&"undefined"!==typeof a.index&&a.index>c&&a.graphic&&a.graphic.element)})||null:null}function h(a){var c=a.chart.options.accessibility.series.pointDescriptionEnabledThreshold;
return!!(!1!==c&&a.points&&a.points.length>=c)}function z(a){var c=a.options.accessibility||{};return!h(a)&&!c.exposeAsGroupOnly}function q(a){var c=a.chart.options.accessibility.keyboardNavigation.seriesNavigation;return!(!a.points||!(a.points.length<c.pointNavigationEnabledThreshold||!1===c.pointNavigationEnabledThreshold))}function f(a,c){var d=a.series.chart,b=d.options.accessibility.point||{};a=a.series.tooltipOptions||{};d=d.options.lang;return u(c)?B(c,b.valueDecimals||a.valueDecimals||-1,
d.decimalPoint,d.accessibility.thousandsSep||d.thousandsSep):c}function e(a){var c=(a.options.accessibility||{}).description;return c&&a.chart.langFormat("accessibility.series.description",{description:c,series:a})||""}function a(a,c){return a.chart.langFormat("accessibility.series."+c+"Description",{name:D(a[c]),series:a})}function c(a){var c=a.series,d=c.chart,b=d.options.accessibility.point||{};if(c.xAxis&&c.xAxis.dateTime)return c=p.prototype.getXDateFormat.call({getDateFormat:p.prototype.getDateFormat,
chart:d},a,d.options.tooltip,c.xAxis),b=b.dateFormatter&&b.dateFormatter(a)||b.dateFormat||c,d.time.dateFormat(b,a.x,void 0)}function d(a){var d=c(a),b=(a.series.xAxis||{}).categories&&J(a.category)&&(""+a.category).replace("<br/>"," "),e=a.id&&0>a.id.indexOf("highcharts-"),u="x, "+a.x;return a.name||d||b||(e?a.id:u)}function l(a,c,d){var b=c||"",e=d||"";return a.series.pointArrayMap.reduce(function(c,d){c+=c.length?", ":"";var u=f(a,I(a[d],a.options[d]));return c+(d+": "+b+u+e)},"")}function y(a){var c=
a.series,d=c.chart.options.accessibility.point||{},b=c.tooltipOptions||{},e=d.valuePrefix||b.valuePrefix||"";d=d.valueSuffix||b.valueSuffix||"";b=f(a,a["undefined"!==typeof a.value?"value":"y"]);return a.isNull?c.chart.langFormat("accessibility.series.nullPointValue",{point:a}):c.pointArrayMap?l(a,e,d):e+b+d}function G(a){var c=a.series,b=c.chart,e=b.options.accessibility.point.valueDescriptionFormat,u=(c=I(c.xAxis&&c.xAxis.options.accessibility&&c.xAxis.options.accessibility.enabled,!b.angular))?
d(a):"";a={point:a,index:J(a.index)?a.index+1:"",xDescription:u,value:y(a),separator:c?", ":""};return m(e,a,b)}function F(a){var c=a.series,d=c.chart,b=G(a),e=a.options&&a.options.accessibility&&a.options.accessibility.description;e=e?" "+e:"";c=1<d.series.length&&c.name?" "+c.name+".":"";d=a.series.chart;var u=H(a),l={point:a,annotations:u};d=u.length?d.langFormat("accessibility.series.pointAnnotationsDescription",l):"";a.accessibility=a.accessibility||{};a.accessibility.valueDescription=b;return b+
e+c+(d?" "+d:"")}function x(a){var c=z(a),d=q(a);(c||d)&&a.points.forEach(function(a){var d,b,e;if(!(e=a.graphic&&a.graphic.element)&&(e=a.series&&a.series.is("sunburst"),e=a.isNull&&!e)){var u=a.series,l=g(a);u=(e=l&&l.graphic)?e.parentGroup:u.graph||u.group;l=l?{x:I(a.plotX,l.plotX,0),y:I(a.plotY,l.plotY,0)}:{x:I(a.plotX,0),y:I(a.plotY,0)};l=a.series.chart.renderer.rect(l.x,l.y,1,1);l.attr({"class":"highcharts-a11y-dummy-point",fill:"none",opacity:0,"fill-opacity":0,"stroke-opacity":0});u&&u.element?
(a.graphic=l,a.hasDummyGraphic=!0,l.add(u),u.element.insertBefore(l.element,e?e.element:null),e=l.element):e=void 0}u=!1===(null===(b=null===(d=a.options)||void 0===d?void 0:d.accessibility)||void 0===b?void 0:b.enabled);e&&(e.setAttribute("tabindex","-1"),e.style.outline="0",c&&!u?(b=a.series,d=b.chart.options.accessibility.point||{},b=b.options.accessibility||{},a=E(b.pointDescriptionFormatter&&b.pointDescriptionFormatter(a)||d.descriptionFormatter&&d.descriptionFormatter(a)||F(a)),e.setAttribute("role",
"img"),e.setAttribute("aria-label",a)):e.setAttribute("aria-hidden",!0))})}function v(c){var d=c.chart,b=d.types||[],u=e(c),l=function(a){return d[a]&&1<d[a].length&&c[a]},f=a(c,"xAxis"),m=a(c,"yAxis"),g={name:c.name||"",ix:c.index+1,numSeries:d.series&&d.series.length,numPoints:c.points&&c.points.length,series:c};b=1<b.length?"Combination":"";return(d.langFormat("accessibility.series.summary."+c.type+b,g)||d.langFormat("accessibility.series.summary.default"+b,g))+(u?" "+u:"")+(l("yAxis")?" "+m:"")+
(l("xAxis")?" "+f:"")}var H=b.getPointAnnotationTexts,D=k.getAxisDescription,A=k.getSeriesFirstPointElement,t=k.getSeriesA11yElement,C=k.unhideChartElementFromAT,w=n.reverseChildNodes,E=n.stripHTMLTagsFromString,K=r.find,m=r.format,u=r.isNumber,B=r.numberFormat,I=r.pick,J=r.defined;return{describeSeries:function(a){var c=a.chart,d=A(a),b=t(a),e=c.is3d&&c.is3d();if(b){b.lastChild!==d||e||w(b);x(a);C(c,b);e=a.chart;c=e.options.chart;d=1<e.series.length;e=e.options.accessibility.series.describeSingleSeries;
var u=(a.options.accessibility||{}).exposeAsGroupOnly;c.options3d&&c.options3d.enabled&&d||!(d||e||u||h(a))?b.setAttribute("aria-label",""):(c=a.chart.options.accessibility,d=c.landmarkVerbosity,(a.options.accessibility||{}).exposeAsGroupOnly?b.setAttribute("role","img"):"all"===d&&b.setAttribute("role","region"),b.setAttribute("tabindex","-1"),b.style.outline="0",b.setAttribute("aria-label",E(c.series.descriptionFormatter&&c.series.descriptionFormatter(a)||v(a))))}},defaultPointDescriptionFormatter:F,
defaultSeriesDescriptionFormatter:v,getPointA11yTimeDescription:c,getPointXDescription:d,getPointValue:y,getPointValueDescription:G}});v(b,"Accessibility/Utils/Announcer.js",[b["Core/Globals.js"],b["Core/Renderer/HTML/AST.js"],b["Accessibility/Utils/DOMElementProvider.js"],b["Accessibility/Utils/HTMLUtilities.js"]],function(b,k,n,p){var r=b.doc,g=p.setElAttrs,h=p.visuallyHideElement;p=function(){function b(b,f){this.chart=b;this.domElementProvider=new n;this.announceRegion=this.addAnnounceRegion(f)}
b.prototype.destroy=function(){this.domElementProvider.destroyCreatedElements()};b.prototype.announce=function(b){var f=this;k.setElementHTML(this.announceRegion,b);this.clearAnnouncementRegionTimer&&clearTimeout(this.clearAnnouncementRegionTimer);this.clearAnnouncementRegionTimer=setTimeout(function(){f.announceRegion.innerHTML="";delete f.clearAnnouncementRegionTimer},1E3)};b.prototype.addAnnounceRegion=function(b){var f=this.chart.announcerContainer||this.createAnnouncerContainer(),e=this.domElementProvider.createElement("div");
g(e,{"aria-hidden":!1,"aria-live":b});h(e);f.appendChild(e);return e};b.prototype.createAnnouncerContainer=function(){var b=this.chart,f=r.createElement("div");g(f,{"aria-hidden":!1,style:"position:relative","class":"highcharts-announcer-container"});b.renderTo.insertBefore(f,b.renderTo.firstChild);return b.announcerContainer=f};return b}();return b.Announcer=p});v(b,"Accessibility/Components/SeriesComponent/NewDataAnnouncer.js",[b["Core/Globals.js"],b["Core/Series/Series.js"],b["Core/Utilities.js"],
b["Accessibility/Utils/ChartUtilities.js"],b["Accessibility/Components/SeriesComponent/SeriesDescriber.js"],b["Accessibility/Utils/Announcer.js"],b["Accessibility/Utils/EventProvider.js"]],function(b,k,n,p,r,g,h){function z(a){var c=a.series.data.filter(function(c){return a.x===c.x&&a.y===c.y});return 1===c.length?c[0]:a}function q(a,c){var d=(a||[]).concat(c||[]).reduce(function(a,c){a[c.name+c.index]=c;return a},{});return Object.keys(d).map(function(a){return d[a]})}var f=n.extend,e=n.defined,
a=p.getChartTitle,c=r.defaultPointDescriptionFormatter,d=r.defaultSeriesDescriptionFormatter;n=function(a){this.chart=a};f(n.prototype,{init:function(){var a=this.chart,c=a.options.accessibility.announceNewData.interruptUser?"assertive":"polite";this.lastAnnouncementTime=0;this.dirty={allSeries:{}};this.eventProvider=new h;this.announcer=new g(a,c);this.addEventListeners()},destroy:function(){this.eventProvider.removeAddedEvents();this.announcer.destroy()},addEventListeners:function(){var a=this,
c=this.chart,d=this.eventProvider;d.addEvent(c,"afterDrilldown",function(){a.lastAnnouncementTime=0});d.addEvent(k,"updatedData",function(){a.onSeriesUpdatedData(this)});d.addEvent(c,"afterAddSeries",function(c){a.onSeriesAdded(c.series)});d.addEvent(k,"addPoint",function(c){a.onPointAdded(c.point)});d.addEvent(c,"redraw",function(){a.announceDirtyData()})},onSeriesUpdatedData:function(a){var c=this.chart;a.chart===c&&c.options.accessibility.announceNewData.enabled&&(this.dirty.hasDirty=!0,this.dirty.allSeries[a.name+
a.index]=a)},onSeriesAdded:function(a){this.chart.options.accessibility.announceNewData.enabled&&(this.dirty.hasDirty=!0,this.dirty.allSeries[a.name+a.index]=a,this.dirty.newSeries=e(this.dirty.newSeries)?void 0:a)},onPointAdded:function(a){var c=a.series.chart;this.chart===c&&c.options.accessibility.announceNewData.enabled&&(this.dirty.newPoint=e(this.dirty.newPoint)?void 0:a)},announceDirtyData:function(){var a=this;if(this.chart.options.accessibility.announceNewData&&this.dirty.hasDirty){var c=
this.dirty.newPoint;c&&(c=z(c));this.queueAnnouncement(Object.keys(this.dirty.allSeries).map(function(c){return a.dirty.allSeries[c]}),this.dirty.newSeries,c);this.dirty={allSeries:{}}}},queueAnnouncement:function(a,c,d){var b=this,e=this.chart.options.accessibility.announceNewData;if(e.enabled){var f=+new Date;e=Math.max(0,e.minAnnounceInterval-(f-this.lastAnnouncementTime));a=q(this.queuedAnnouncement&&this.queuedAnnouncement.series,a);if(c=this.buildAnnouncementMessage(a,c,d))this.queuedAnnouncement&&
clearTimeout(this.queuedAnnouncementTimer),this.queuedAnnouncement={time:f,message:c,series:a},this.queuedAnnouncementTimer=setTimeout(function(){b&&b.announcer&&(b.lastAnnouncementTime=+new Date,b.announcer.announce(b.queuedAnnouncement.message),delete b.queuedAnnouncement,delete b.queuedAnnouncementTimer)},e)}},buildAnnouncementMessage:function(e,f,g){var l=this.chart,h=l.options.accessibility.announceNewData;if(h.announcementFormatter&&(e=h.announcementFormatter(e,f,g),!1!==e))return e.length?
e:null;e=b.charts&&1<b.charts.length?"Multiple":"Single";e=f?"newSeriesAnnounce"+e:g?"newPointAnnounce"+e:"newDataAnnounce";h=a(l);return l.langFormat("accessibility.announceNewData."+e,{chartTitle:h,seriesDesc:f?d(f):null,pointDesc:g?c(g):null,point:g,series:f})}});return n});v(b,"Accessibility/Components/SeriesComponent/ForcedMarkers.js",[b["Core/Series/Series.js"],b["Core/Utilities.js"]],function(b,k){function n(b){r(!0,b,{marker:{enabled:!0,states:{normal:{opacity:0}}}})}var p=k.addEvent,r=k.merge;
return function(){p(b,"render",function(){var b=this.options,h=!1!==(this.options.accessibility&&this.options.accessibility.enabled);if(h=this.chart.options.accessibility.enabled&&h)h=this.chart.options.accessibility,h=this.points.length<h.series.pointDescriptionEnabledThreshold||!1===h.series.pointDescriptionEnabledThreshold;if(h){if(b.marker&&!1===b.marker.enabled&&(this.a11yMarkersForced=!0,n(this.options)),this._hasPointMarkers&&this.points&&this.points.length)for(b=this.points.length;b--;){h=
this.points[b];var k=h.options;delete h.hasForcedA11yMarker;k.marker&&(k.marker.enabled?(r(!0,k.marker,{states:{normal:{opacity:k.marker.states&&k.marker.states.normal&&k.marker.states.normal.opacity||1}}}),h.hasForcedA11yMarker=!1):(n(k),h.hasForcedA11yMarker=!0))}}else this.a11yMarkersForced&&(delete this.a11yMarkersForced,(b=this.resetA11yMarkerOptions)&&r(!0,this.options,{marker:{enabled:b.enabled,states:{normal:{opacity:b.states&&b.states.normal&&b.states.normal.opacity}}}}))});p(b,"afterSetOptions",
function(b){this.resetA11yMarkerOptions=r(b.options.marker||{},this.userOptions.marker||{})});p(b,"afterRender",function(){if(this.chart.styledMode){if(this.markerGroup)this.markerGroup[this.a11yMarkersForced?"addClass":"removeClass"]("highcharts-a11y-markers-hidden");this._hasPointMarkers&&this.points&&this.points.length&&this.points.forEach(function(b){b.graphic&&(b.graphic[b.hasForcedA11yMarker?"addClass":"removeClass"]("highcharts-a11y-marker-hidden"),b.graphic[!1===b.hasForcedA11yMarker?"addClass":
"removeClass"]("highcharts-a11y-marker-visible"))})}})}});v(b,"Accessibility/Components/SeriesComponent/SeriesComponent.js",[b["Core/Globals.js"],b["Core/Utilities.js"],b["Accessibility/AccessibilityComponent.js"],b["Accessibility/Components/SeriesComponent/SeriesKeyboardNavigation.js"],b["Accessibility/Components/SeriesComponent/NewDataAnnouncer.js"],b["Accessibility/Components/SeriesComponent/ForcedMarkers.js"],b["Accessibility/Utils/ChartUtilities.js"],b["Accessibility/Components/SeriesComponent/SeriesDescriber.js"],
b["Core/Tooltip.js"]],function(b,k,n,p,r,g,h,z,q){k=k.extend;var f=h.hideSeriesFromAT,e=z.describeSeries;b.SeriesAccessibilityDescriber=z;g();b=function(){};b.prototype=new n;k(b.prototype,{init:function(){this.newDataAnnouncer=new r(this.chart);this.newDataAnnouncer.init();this.keyboardNavigation=new p(this.chart,this.keyCodes);this.keyboardNavigation.init();this.hideTooltipFromATWhenShown();this.hideSeriesLabelsFromATWhenShown()},hideTooltipFromATWhenShown:function(){var a=this;this.addEvent(q,
"refresh",function(){this.chart===a.chart&&this.label&&this.label.element&&this.label.element.setAttribute("aria-hidden",!0)})},hideSeriesLabelsFromATWhenShown:function(){this.addEvent(this.chart,"afterDrawSeriesLabels",function(){this.series.forEach(function(a){a.labelBySeries&&a.labelBySeries.attr("aria-hidden",!0)})})},onChartRender:function(){this.chart.series.forEach(function(a){!1!==(a.options.accessibility&&a.options.accessibility.enabled)&&a.visible?e(a):f(a)})},getKeyboardNavigation:function(){return this.keyboardNavigation.getKeyboardNavigationHandler()},
destroy:function(){this.newDataAnnouncer.destroy();this.keyboardNavigation.destroy()}});return b});v(b,"Accessibility/Components/ZoomComponent.js",[b["Accessibility/AccessibilityComponent.js"],b["Accessibility/Utils/ChartUtilities.js"],b["Core/Globals.js"],b["Accessibility/Utils/HTMLUtilities.js"],b["Accessibility/KeyboardNavigationHandler.js"],b["Core/Utilities.js"]],function(b,k,n,p,r,g){var h=k.unhideChartElementFromAT;k=n.noop;var z=p.removeElement,q=p.setElAttrs;p=g.extend;var f=g.pick;n.Axis.prototype.panStep=
function(b,a){var c=a||3;a=this.getExtremes();var d=(a.max-a.min)/c*b;c=a.max+d;d=a.min+d;var e=c-d;0>b&&d<a.dataMin?(d=a.dataMin,c=d+e):0<b&&c>a.dataMax&&(c=a.dataMax,d=c-e);this.setExtremes(d,c)};k.prototype=new b;p(k.prototype,{init:function(){var b=this,a=this.chart;["afterShowResetZoom","afterDrilldown","drillupall"].forEach(function(c){b.addEvent(a,c,function(){b.updateProxyOverlays()})})},onChartUpdate:function(){var b=this.chart,a=this;b.mapNavButtons&&b.mapNavButtons.forEach(function(c,d){h(b,
c.element);a.setMapNavButtonAttrs(c.element,"accessibility.zoom.mapZoom"+(d?"Out":"In"))})},setMapNavButtonAttrs:function(b,a){var c=this.chart;a=c.langFormat(a,{chart:c});q(b,{tabindex:-1,role:"button","aria-label":a})},onChartRender:function(){this.updateProxyOverlays()},updateProxyOverlays:function(){var b=this.chart;z(this.drillUpProxyGroup);z(this.resetZoomProxyGroup);b.resetZoomButton&&this.recreateProxyButtonAndGroup(b.resetZoomButton,"resetZoomProxyButton","resetZoomProxyGroup",b.langFormat("accessibility.zoom.resetZoomButton",
{chart:b}));b.drillUpButton&&this.recreateProxyButtonAndGroup(b.drillUpButton,"drillUpProxyButton","drillUpProxyGroup",b.langFormat("accessibility.drillUpButton",{chart:b,buttonText:b.getDrilldownBackText()}))},recreateProxyButtonAndGroup:function(b,a,c,d){z(this[c]);this[c]=this.addProxyGroup();this[a]=this.createProxyButton(b,this[c],{"aria-label":d,tabindex:-1})},getMapZoomNavigation:function(){var b=this.keyCodes,a=this.chart,c=this;return new r(a,{keyCodeMap:[[[b.up,b.down,b.left,b.right],function(a){return c.onMapKbdArrow(this,
a)}],[[b.tab],function(a,b){return c.onMapKbdTab(this,b)}],[[b.space,b.enter],function(){return c.onMapKbdClick(this)}]],validate:function(){return!!(a.mapZoom&&a.mapNavButtons&&a.mapNavButtons.length)},init:function(a){return c.onMapNavInit(a)}})},onMapKbdArrow:function(b,a){var c=this.keyCodes;this.chart[a===c.up||a===c.down?"yAxis":"xAxis"][0].panStep(a===c.left||a===c.up?-1:1);return b.response.success},onMapKbdTab:function(b,a){var c=this.chart;b=b.response;var d=(a=a.shiftKey)&&!this.focusedMapNavButtonIx||
!a&&this.focusedMapNavButtonIx;c.mapNavButtons[this.focusedMapNavButtonIx].setState(0);if(d)return c.mapZoom(),b[a?"prev":"next"];this.focusedMapNavButtonIx+=a?-1:1;a=c.mapNavButtons[this.focusedMapNavButtonIx];c.setFocusToElement(a.box,a.element);a.setState(2);return b.success},onMapKbdClick:function(b){this.fakeClickEvent(this.chart.mapNavButtons[this.focusedMapNavButtonIx].element);return b.response.success},onMapNavInit:function(b){var a=this.chart,c=a.mapNavButtons[0],d=a.mapNavButtons[1];c=
0<b?c:d;a.setFocusToElement(c.box,c.element);c.setState(2);this.focusedMapNavButtonIx=0<b?0:1},simpleButtonNavigation:function(b,a,c){var d=this.keyCodes,e=this,g=this.chart;return new r(g,{keyCodeMap:[[[d.tab,d.up,d.down,d.left,d.right],function(a,c){return this.response[a===d.tab&&c.shiftKey||a===d.left||a===d.up?"prev":"next"]}],[[d.space,d.enter],function(){var a=c(this,g);return f(a,this.response.success)}]],validate:function(){return g[b]&&g[b].box&&e[a]},init:function(){g.setFocusToElement(g[b].box,
e[a])}})},getKeyboardNavigation:function(){return[this.simpleButtonNavigation("resetZoomButton","resetZoomProxyButton",function(b,a){a.zoomOut()}),this.simpleButtonNavigation("drillUpButton","drillUpProxyButton",function(b,a){a.drillUp();return b.response.prev}),this.getMapZoomNavigation()]}});return k});v(b,"Extensions/RangeSelector.js",[b["Core/Axis/Axis.js"],b["Core/Chart/Chart.js"],b["Core/Globals.js"],b["Core/Options.js"],b["Core/Color/Palette.js"],b["Core/Renderer/SVG/SVGElement.js"],b["Core/Utilities.js"]],
function(b,k,n,p,r,g,h){function z(a){if(-1!==a.indexOf("%L"))return"text";var c="aAdewbBmoyY".split("").some(function(c){return-1!==a.indexOf("%"+c)}),b="HkIlMS".split("").some(function(c){return-1!==a.indexOf("%"+c)});return c&&b?"datetime-local":c?"date":b?"time":"text"}var q=p.defaultOptions,f=h.addEvent,e=h.createElement,a=h.css,c=h.defined,d=h.destroyObjectProperties,l=h.discardElement,y=h.extend,G=h.find,F=h.fireEvent,x=h.isNumber,v=h.merge,H=h.objectEach,D=h.pad,A=h.pick,t=h.pInt,C=h.splat;
y(q,{rangeSelector:{allButtonsEnabled:!1,buttons:void 0,buttonSpacing:5,dropdown:"responsive",enabled:void 0,verticalAlign:"top",buttonTheme:{width:28,height:18,padding:2,zIndex:7},floating:!1,x:0,y:0,height:void 0,inputBoxBorderColor:"none",inputBoxHeight:17,inputBoxWidth:void 0,inputDateFormat:"%b %e, %Y",inputDateParser:void 0,inputEditDateFormat:"%Y-%m-%d",inputEnabled:!0,inputPosition:{align:"right",x:0,y:0},inputSpacing:5,selected:void 0,buttonPosition:{align:"left",x:0,y:0},inputStyle:{color:r.highlightColor80,
cursor:"pointer"},labelStyle:{color:r.neutralColor60}}});y(q.lang,{rangeSelectorZoom:"Zoom",rangeSelectorFrom:"",rangeSelectorTo:"\u2192"});var w=function(){function m(a){this.buttons=void 0;this.buttonOptions=m.prototype.defaultButtons;this.initialButtonGroupWidth=0;this.options=void 0;this.chart=a;this.init(a)}m.prototype.clickButton=function(a,d){var e=this.chart,u=this.buttonOptions[a],m=e.xAxis[0],l=e.scroller&&e.scroller.getUnionExtremes()||m||{},g=l.dataMin,B=l.dataMax,h=m&&Math.round(Math.min(m.max,
A(B,m.max))),t=u.type;l=u._range;var k,y=u.dataGrouping;if(null!==g&&null!==B){e.fixedRange=l;y&&(this.forcedDataGrouping=!0,b.prototype.setDataGrouping.call(m||{chart:this.chart},y,!1),this.frozenStates=u.preserveDataGrouping);if("month"===t||"year"===t)if(m){t={range:u,max:h,chart:e,dataMin:g,dataMax:B};var w=m.minFromRange.call(t);x(t.newMax)&&(h=t.newMax)}else l=u;else if(l)w=Math.max(h-l,g),h=Math.min(w+l,B);else if("ytd"===t)if(m)"undefined"===typeof B&&(g=Number.MAX_VALUE,B=Number.MIN_VALUE,
e.series.forEach(function(a){a=a.xData;g=Math.min(a[0],g);B=Math.max(a[a.length-1],B)}),d=!1),h=this.getYTDExtremes(B,g,e.time.useUTC),w=k=h.min,h=h.max;else{this.deferredYTDClick=a;return}else"all"===t&&m&&(w=g,h=B);c(w)&&(w+=u._offsetMin);c(h)&&(h+=u._offsetMax);this.setSelected(a);this.dropdown&&(this.dropdown.selectedIndex=a+1);if(m)m.setExtremes(w,h,A(d,!0),void 0,{trigger:"rangeSelectorButton",rangeSelectorButton:u});else{var q=C(e.options.xAxis)[0];var n=q.range;q.range=l;var r=q.min;q.min=
k;f(e,"load",function(){q.range=n;q.min=r})}F(this,"afterBtnClick")}};m.prototype.setSelected=function(a){this.selected=this.options.selected=a};m.prototype.init=function(a){var c=this,b=a.options.rangeSelector,d=b.buttons||c.defaultButtons.slice(),e=b.selected,u=function(){var a=c.minInput,b=c.maxInput;a&&a.blur&&F(a,"blur");b&&b.blur&&F(b,"blur")};c.chart=a;c.options=b;c.buttons=[];c.buttonOptions=d;this.eventsToUnbind=[];this.eventsToUnbind.push(f(a.container,"mousedown",u));this.eventsToUnbind.push(f(a,
"resize",u));d.forEach(c.computeButtonRange);"undefined"!==typeof e&&d[e]&&this.clickButton(e,!1);this.eventsToUnbind.push(f(a,"load",function(){a.xAxis&&a.xAxis[0]&&f(a.xAxis[0],"setExtremes",function(b){this.max-this.min!==a.fixedRange&&"rangeSelectorButton"!==b.trigger&&"updatedData"!==b.trigger&&c.forcedDataGrouping&&!c.frozenStates&&this.setDataGrouping(!1,!1)})}))};m.prototype.updateButtonStates=function(){var a=this,c=this.chart,b=this.dropdown,d=c.xAxis[0],e=Math.round(d.max-d.min),f=!d.hasVisibleSeries,
m=c.scroller&&c.scroller.getUnionExtremes()||d,l=m.dataMin,g=m.dataMax;c=a.getYTDExtremes(g,l,c.time.useUTC);var h=c.min,t=c.max,k=a.selected,y=x(k),w=a.options.allButtonsEnabled,q=a.buttons;a.buttonOptions.forEach(function(c,u){var m=c._range,B=c.type,J=c.count||1,I=q[u],L=0,C=c._offsetMax-c._offsetMin;c=u===k;var O=m>g-l,n=m<d.minRange,r=!1,p=!1;m=m===e;("month"===B||"year"===B)&&e+36E5>=864E5*{month:28,year:365}[B]*J-C&&e-36E5<=864E5*{month:31,year:366}[B]*J+C?m=!0:"ytd"===B?(m=t-h+C===e,r=!c):
"all"===B&&(m=d.max-d.min>=g-l,p=!c&&y&&m);B=!w&&(O||n||p||f);J=c&&m||m&&!y&&!r||c&&a.frozenStates;B?L=3:J&&(y=!0,L=2);I.state!==L&&(I.setState(L),b&&(b.options[u+1].disabled=B,2===L&&(b.selectedIndex=u+1)),0===L&&k===u&&a.setSelected())})};m.prototype.computeButtonRange=function(a){var c=a.type,b=a.count||1,d={millisecond:1,second:1E3,minute:6E4,hour:36E5,day:864E5,week:6048E5};if(d[c])a._range=d[c]*b;else if("month"===c||"year"===c)a._range=864E5*{month:30,year:365}[c]*b;a._offsetMin=A(a.offsetMin,
0);a._offsetMax=A(a.offsetMax,0);a._range+=a._offsetMax-a._offsetMin};m.prototype.getInputValue=function(a){a="min"===a?this.minInput:this.maxInput;var c=this.chart.options.rangeSelector,b=this.chart.time;return a?("text"===a.type&&c.inputDateParser||this.defaultInputDateParser)(a.value,b.useUTC,b):0};m.prototype.setInputValue=function(a,b){var d=this.options,e=this.chart.time,u="min"===a?this.minInput:this.maxInput;a="min"===a?this.minDateBox:this.maxDateBox;if(u){var f=u.getAttribute("data-hc-time");
f=c(f)?Number(f):void 0;c(b)&&(c(f)&&u.setAttribute("data-hc-time-previous",f),u.setAttribute("data-hc-time",b),f=b);u.value=e.dateFormat(this.inputTypeFormats[u.type]||d.inputEditDateFormat,f);a&&a.attr({text:e.dateFormat(d.inputDateFormat,f)})}};m.prototype.setInputExtremes=function(a,c,b){if(a="min"===a?this.minInput:this.maxInput){var d=this.inputTypeFormats[a.type],e=this.chart.time;d&&(c=e.dateFormat(d,c),a.min!==c&&(a.min=c),b=e.dateFormat(d,b),a.max!==b&&(a.max=b))}};m.prototype.showInput=
function(c){var b="min"===c?this.minDateBox:this.maxDateBox;if((c="min"===c?this.minInput:this.maxInput)&&b&&this.inputGroup){var d="text"===c.type,e=this.inputGroup,u=e.translateX;e=e.translateY;var f=this.options.inputBoxWidth;a(c,{width:d?b.width+(f?-2:20)+"px":"auto",height:d?b.height-2+"px":"auto",border:"2px solid silver"});d&&f?a(c,{left:u+b.x+"px",top:e+"px"}):a(c,{left:Math.min(Math.round(b.x+u-(c.offsetWidth-b.width)/2),this.chart.chartWidth-c.offsetWidth)+"px",top:e-1-(c.offsetHeight-b.height)/
2+"px"})}};m.prototype.hideInput=function(c){(c="min"===c?this.minInput:this.maxInput)&&a(c,{top:"-9999em",border:0,width:"1px",height:"1px"})};m.prototype.defaultInputDateParser=function(a,c,b){var d=a.split("/").join("-").split(" ").join("T");-1===d.indexOf("T")&&(d+="T00:00");if(c)d+="Z";else{var e;if(e=n.isSafari)e=d,e=!(6<e.length&&(e.lastIndexOf("-")===e.length-6||e.lastIndexOf("+")===e.length-6));e&&(e=(new Date(d)).getTimezoneOffset()/60,d+=0>=e?"+"+D(-e)+":00":"-"+D(e)+":00")}d=Date.parse(d);
x(d)||(a=a.split("-"),d=Date.UTC(t(a[0]),t(a[1])-1,t(a[2])));b&&c&&x(d)&&(d+=b.getTimezoneOffset(d));return d};m.prototype.drawInput=function(c){function b(){var a=m.getInputValue(c),b=d.xAxis[0],e=d.scroller&&d.scroller.xAxis?d.scroller.xAxis:b,f=e.dataMin;e=e.dataMax;var u=m.maxInput,g=m.minInput;a!==Number(w.getAttribute("data-hc-time-previous"))&&x(a)&&(w.setAttribute("data-hc-time-previous",a),t&&u&&x(f)?a>Number(u.getAttribute("data-hc-time"))?a=void 0:a<f&&(a=f):g&&x(e)&&(a<Number(g.getAttribute("data-hc-time"))?
a=void 0:a>e&&(a=e)),"undefined"!==typeof a&&b.setExtremes(t?a:b.min,t?b.max:a,void 0,void 0,{trigger:"rangeSelectorInput"}))}var d=this.chart,f=this.div,u=this.inputGroup,m=this,l=d.renderer.style||{},g=d.renderer,h=d.options.rangeSelector,t="min"===c,k=q.lang[t?"rangeSelectorFrom":"rangeSelectorTo"];k=g.label(k,0).addClass("highcharts-range-label").attr({padding:k?2:0}).add(u);g=g.label("",0).addClass("highcharts-range-input").attr({padding:2,width:h.inputBoxWidth,height:h.inputBoxHeight,"text-align":"center"}).on("click",
function(){m.showInput(c);m[c+"Input"].focus()});d.styledMode||g.attr({stroke:h.inputBoxBorderColor,"stroke-width":1});g.add(u);var w=e("input",{name:c,className:"highcharts-range-selector"},void 0,f);w.setAttribute("type",z(h.inputDateFormat||"%b %e, %Y"));d.styledMode||(k.css(v(l,h.labelStyle)),g.css(v({color:r.neutralColor80},l,h.inputStyle)),a(w,y({position:"absolute",border:0,boxShadow:"0 0 15px rgba(0,0,0,0.3)",width:"1px",height:"1px",padding:0,textAlign:"center",fontSize:l.fontSize,fontFamily:l.fontFamily,
top:"-9999em"},h.inputStyle)));w.onfocus=function(){m.showInput(c)};w.onblur=function(){w===n.doc.activeElement&&b();m.hideInput(c);m.setInputValue(c);w.blur()};var C=!1;w.onchange=function(){C||(b(),m.hideInput(c),w.blur())};w.onkeypress=function(a){13===a.keyCode&&b()};w.onkeydown=function(a){C=!0;38!==a.keyCode&&40!==a.keyCode||b()};w.onkeyup=function(){C=!1};return{dateBox:g,input:w,label:k}};m.prototype.getPosition=function(){var a=this.chart,c=a.options.rangeSelector;a="top"===c.verticalAlign?
a.plotTop-a.axisOffset[0]:0;return{buttonTop:a+c.buttonPosition.y,inputTop:a+c.inputPosition.y-10}};m.prototype.getYTDExtremes=function(a,c,b){var d=this.chart.time,e=new d.Date(a),f=d.get("FullYear",e);b=b?d.Date.UTC(f,0,1):+new d.Date(f,0,1);c=Math.max(c,b);e=e.getTime();return{max:Math.min(a||e,e),min:c}};m.prototype.render=function(a,b){var d=this.chart,f=d.renderer,m=d.container,u=d.options,g=u.rangeSelector,l=A(u.chart.style&&u.chart.style.zIndex,0)+1;u=g.inputEnabled;if(!1!==g.enabled){this.rendered||
(this.group=f.g("range-selector-group").attr({zIndex:7}).add(),this.div=e("div",void 0,{position:"relative",height:0,zIndex:l}),this.buttonOptions.length&&this.renderButtons(),m.parentNode&&m.parentNode.insertBefore(this.div,m),u&&(this.inputGroup=f.g("input-group").add(this.group),f=this.drawInput("min"),this.minDateBox=f.dateBox,this.minLabel=f.label,this.minInput=f.input,f=this.drawInput("max"),this.maxDateBox=f.dateBox,this.maxLabel=f.label,this.maxInput=f.input));if(u&&(this.setInputValue("min",
a),this.setInputValue("max",b),a=d.scroller&&d.scroller.getUnionExtremes()||d.xAxis[0]||{},c(a.dataMin)&&c(a.dataMax)&&(d=d.xAxis[0].minRange||0,this.setInputExtremes("min",a.dataMin,Math.min(a.dataMax,this.getInputValue("max"))-d),this.setInputExtremes("max",Math.max(a.dataMin,this.getInputValue("min"))+d,a.dataMax)),this.inputGroup)){var h=0;[this.minLabel,this.minDateBox,this.maxLabel,this.maxDateBox].forEach(function(a){if(a){var c=a.getBBox().width;c&&(a.attr({x:h}),h+=c+g.inputSpacing)}})}this.alignElements();
this.rendered=!0}};m.prototype.renderButtons=function(){var a=this,c=this.buttons,b=this.options,d=q.lang,m=this.chart.renderer,g=v(b.buttonTheme),l=g&&g.states,h=g.width||28;delete g.width;delete g.states;this.buttonGroup=m.g("range-selector-buttons").add(this.group);var t=this.dropdown=e("select",void 0,{position:"absolute",width:"1px",height:"1px",padding:0,border:0,top:"-9999em",cursor:"pointer",opacity:.0001},this.div);f(t,"touchstart",function(){t.style.fontSize="16px"});[[n.isMS?"mouseover":
"mouseenter"],[n.isMS?"mouseout":"mouseleave"],["change","click"]].forEach(function(b){var d=b[0],e=b[1];f(t,d,function(){var b=c[a.currentButtonIndex()];b&&F(b.element,e||d)})});this.zoomText=m.text(d.rangeSelectorZoom,0,15).add(this.buttonGroup);this.chart.styledMode||(this.zoomText.css(b.labelStyle),g["stroke-width"]=A(g["stroke-width"],0));e("option",{textContent:this.zoomText.textStr,disabled:!0},void 0,t);this.buttonOptions.forEach(function(b,d){e("option",{textContent:b.title||b.text},void 0,
t);c[d]=m.button(b.text,0,0,function(c){var e=b.events&&b.events.click,f;e&&(f=e.call(b,c));!1!==f&&a.clickButton(d);a.isActive=!0},g,l&&l.hover,l&&l.select,l&&l.disabled).attr({"text-align":"center",width:h}).add(a.buttonGroup);b.title&&c[d].attr("title",b.title)})};m.prototype.alignElements=function(){var a=this,c=this.buttonGroup,b=this.buttons,d=this.chart,e=this.group,f=this.inputGroup,m=this.options,g=this.zoomText,l=d.options,h=l.exporting&&!1!==l.exporting.enabled&&l.navigation&&l.navigation.buttonOptions;
l=m.buttonPosition;var t=m.inputPosition,k=m.verticalAlign,w=function(c,b){return h&&a.titleCollision(d)&&"top"===k&&"right"===b.align&&b.y-c.getBBox().height-12<(h.y||0)+(h.height||0)+d.spacing[0]?-40:0},y=d.plotLeft;if(e&&l&&t){var C=l.x-d.spacing[3];if(c){this.positionButtons();if(!this.initialButtonGroupWidth){var q=0;g&&(q+=g.getBBox().width+5);b.forEach(function(a,c){q+=a.width;c!==b.length-1&&(q+=m.buttonSpacing)});this.initialButtonGroupWidth=q}y-=d.spacing[3];this.updateButtonStates();g=
w(c,l);this.alignButtonGroup(g);e.placed=c.placed=d.hasLoaded}c=0;f&&(c=w(f,t),"left"===t.align?C=y:"right"===t.align&&(C=-Math.max(d.axisOffset[1],-c)),f.align({y:t.y,width:f.getBBox().width,align:t.align,x:t.x+C-2},!0,d.spacingBox),f.placed=d.hasLoaded);this.handleCollision(c);e.align({verticalAlign:k},!0,d.spacingBox);f=e.alignAttr.translateY;c=e.getBBox().height+20;w=0;"bottom"===k&&(w=(w=d.legend&&d.legend.options)&&"bottom"===w.verticalAlign&&w.enabled&&!w.floating?d.legend.legendHeight+A(w.margin,
10):0,c=c+w-20,w=f-c-(m.floating?0:m.y)-(d.titleOffset?d.titleOffset[2]:0)-10);if("top"===k)m.floating&&(w=0),d.titleOffset&&d.titleOffset[0]&&(w=d.titleOffset[0]),w+=d.margin[0]-d.spacing[0]||0;else if("middle"===k)if(t.y===l.y)w=f;else if(t.y||l.y)w=0>t.y||0>l.y?w-Math.min(t.y,l.y):f-c;e.translate(m.x,m.y+Math.floor(w));l=this.minInput;t=this.maxInput;f=this.dropdown;m.inputEnabled&&l&&t&&(l.style.marginTop=e.translateY+"px",t.style.marginTop=e.translateY+"px");f&&(f.style.marginTop=e.translateY+
"px")}};m.prototype.alignButtonGroup=function(a,c){var b=this.chart,d=this.buttonGroup,e=this.options.buttonPosition,f=b.plotLeft-b.spacing[3],m=e.x-b.spacing[3];"right"===e.align?m+=a-f:"center"===e.align&&(m-=f/2);d&&d.align({y:e.y,width:A(c,this.initialButtonGroupWidth),align:e.align,x:m},!0,b.spacingBox)};m.prototype.positionButtons=function(){var a=this.buttons,c=this.chart,b=this.options,d=this.zoomText,e=c.hasLoaded?"animate":"attr",f=b.buttonPosition,m=c.plotLeft,l=m;d&&"hidden"!==d.visibility&&
(d[e]({x:A(m+f.x,m)}),l+=f.x+d.getBBox().width+5);this.buttonOptions.forEach(function(c,d){if("hidden"!==a[d].visibility)a[d][e]({x:l}),l+=a[d].width+b.buttonSpacing;else a[d][e]({x:m})})};m.prototype.handleCollision=function(a){var c=this,b=this.chart,d=this.buttonGroup,e=this.inputGroup,f=this.options,m=f.buttonPosition,l=f.dropdown,g=f.inputPosition;f=function(){var a=0;c.buttons.forEach(function(c){c=c.getBBox();c.width>a&&(a=c.width)});return a};var h=function(c){if(e&&d){var b=e.alignAttr.translateX+
e.alignOptions.x-a+e.getBBox().x+2,f=e.alignOptions.width,l=d.alignAttr.translateX+d.getBBox().x;return l+c>b&&b+f>l&&m.y<g.y+e.getBBox().height}return!1},t=function(){e&&d&&e.attr({translateX:e.alignAttr.translateX+(b.axisOffset[1]>=-a?0:-a),translateY:e.alignAttr.translateY+d.getBBox().height+10})};if(d){if("always"===l){this.collapseButtons(a);h(f())&&t();return}"never"===l&&this.expandButtons()}e&&d?g.align===m.align||h(this.initialButtonGroupWidth+20)?"responsive"===l?(this.collapseButtons(a),
h(f())&&t()):t():"responsive"===l&&this.expandButtons():d&&"responsive"===l&&(this.initialButtonGroupWidth>b.plotWidth?this.collapseButtons(a):this.expandButtons())};m.prototype.collapseButtons=function(a){var c,b=this.buttons,d=this.buttonOptions,e=this.dropdown,f=this.options,m=this.zoomText,l=function(a){return{text:a?a+" \u25be":"\u25be",width:"auto",paddingLeft:8,paddingRight:8}};m&&m.hide();var g=!1;d.forEach(function(a,c){c=b[c];2!==c.state?c.hide():(c.show(),c.attr(l(a.text)),g=!0)});g||(e&&
(e.selectedIndex=0),b[0].show(),b[0].attr(l(null===(c=this.zoomText)||void 0===c?void 0:c.textStr)));c=f.buttonPosition.align;this.positionButtons();"right"!==c&&"center"!==c||this.alignButtonGroup(a,b[this.currentButtonIndex()].getBBox().width);this.showDropdown()};m.prototype.expandButtons=function(){var a=this.buttons,c=this.buttonOptions,b=this.options,d=this.zoomText;this.hideDropdown();d&&d.show();c.forEach(function(c,d){d=a[d];d.show();d.attr({text:c.text,width:b.buttonTheme.width||28,paddingLeft:"unset",
paddingRight:"unset"});2>d.state&&d.setState(0)});this.positionButtons()};m.prototype.currentButtonIndex=function(){var a=this.dropdown;return a&&0<a.selectedIndex?a.selectedIndex-1:0};m.prototype.showDropdown=function(){var c=this.buttonGroup,b=this.buttons,d=this.chart,e=this.dropdown;if(c&&e){var f=c.translateX;c=c.translateY;b=b[this.currentButtonIndex()].getBBox();a(e,{left:d.plotLeft+f+"px",top:c+.5+"px",width:b.width+"px",height:b.height+"px"});this.hasVisibleDropdown=!0}};m.prototype.hideDropdown=
function(){var c=this.dropdown;c&&(a(c,{top:"-9999em",width:"1px",height:"1px"}),this.hasVisibleDropdown=!1)};m.prototype.getHeight=function(){var a=this.options,c=this.group,b=a.y,d=a.buttonPosition.y,e=a.inputPosition.y;if(a.height)return a.height;this.alignElements();a=c?c.getBBox(!0).height+13+b:0;c=Math.min(e,d);if(0>e&&0>d||0<e&&0<d)a+=Math.abs(c);return a};m.prototype.titleCollision=function(a){return!(a.options.title.text||a.options.subtitle.text)};m.prototype.update=function(a){var c=this.chart;
v(!0,c.options.rangeSelector,a);this.destroy();this.init(c);this.render()};m.prototype.destroy=function(){var a=this,c=a.minInput,b=a.maxInput;a.eventsToUnbind&&(a.eventsToUnbind.forEach(function(a){return a()}),a.eventsToUnbind=void 0);d(a.buttons);c&&(c.onfocus=c.onblur=c.onchange=null);b&&(b.onfocus=b.onblur=b.onchange=null);H(a,function(c,b){c&&"chart"!==b&&(c instanceof g?c.destroy():c instanceof window.HTMLElement&&l(c));c!==m.prototype[b]&&(a[b]=null)},this)};return m}();w.prototype.defaultButtons=
[{type:"month",count:1,text:"1m",title:"View 1 month"},{type:"month",count:3,text:"3m",title:"View 3 months"},{type:"month",count:6,text:"6m",title:"View 6 months"},{type:"ytd",text:"YTD",title:"View year to date"},{type:"year",count:1,text:"1y",title:"View 1 year"},{type:"all",text:"All",title:"View all"}];w.prototype.inputTypeFormats={"datetime-local":"%Y-%m-%dT%H:%M:%S",date:"%Y-%m-%d",time:"%H:%M:%S"};b.prototype.minFromRange=function(){var a=this.range,c=a.type,b=this.max,d=this.chart.time,e=
function(a,b){var e="year"===c?"FullYear":"Month",f=new d.Date(a),m=d.get(e,f);d.set(e,f,m+b);m===d.get(e,f)&&d.set("Date",f,0);return f.getTime()-a};if(x(a)){var f=b-a;var l=a}else f=b+e(b,-a.count),this.chart&&(this.chart.fixedRange=b-f);var g=A(this.dataMin,Number.MIN_VALUE);x(f)||(f=g);f<=g&&(f=g,"undefined"===typeof l&&(l=e(f,a.count)),this.newMax=Math.min(f+l,this.dataMax));x(b)||(f=void 0);return f};if(!n.RangeSelector){var E=[],K=function(a){function c(){d&&(b=a.xAxis[0].getExtremes(),e=a.legend,
m=null===d||void 0===d?void 0:d.options.verticalAlign,x(b.min)&&d.render(b.min,b.max),e.display&&"top"===m&&m===e.options.verticalAlign&&(l=v(a.spacingBox),l.y="vertical"===e.options.layout?a.plotTop:l.y+d.getHeight(),e.group.placed=!1,e.align(l)))}var b,d=a.rangeSelector,e,l,m;d&&(G(E,function(c){return c[0]===a})||E.push([a,[f(a.xAxis[0],"afterSetExtremes",function(a){d&&d.render(a.min,a.max)}),f(a,"redraw",c)]]),c())};f(k,"afterGetContainer",function(){var a;if(null===(a=this.options.rangeSelector)||
void 0===a?0:a.enabled)this.rangeSelector=new w(this)});f(k,"beforeRender",function(){var a=this.axes,c=this.rangeSelector;c&&(x(c.deferredYTDClick)&&(c.clickButton(c.deferredYTDClick),delete c.deferredYTDClick),a.forEach(function(a){a.updateNames();a.setScale()}),this.getAxisMargins(),c.render(),a=c.options.verticalAlign,c.options.floating||("bottom"===a?this.extraBottomMargin=!0:"middle"!==a&&(this.extraTopMargin=!0)))});f(k,"update",function(a){var b=a.options.rangeSelector;a=this.rangeSelector;
var d=this.extraBottomMargin,e=this.extraTopMargin;b&&b.enabled&&!c(a)&&this.options.rangeSelector&&(this.options.rangeSelector.enabled=!0,this.rangeSelector=a=new w(this));this.extraTopMargin=this.extraBottomMargin=!1;a&&(K(this),b=b&&b.verticalAlign||a.options&&a.options.verticalAlign,a.options.floating||("bottom"===b?this.extraBottomMargin=!0:"middle"!==b&&(this.extraTopMargin=!0)),this.extraBottomMargin!==d||this.extraTopMargin!==e)&&(this.isDirtyBox=!0)});f(k,"render",function(){var a=this.rangeSelector;
a&&!a.options.floating&&(a.render(),a=a.options.verticalAlign,"bottom"===a?this.extraBottomMargin=!0:"middle"!==a&&(this.extraTopMargin=!0))});f(k,"getMargins",function(){var a=this.rangeSelector;a&&(a=a.getHeight(),this.extraTopMargin&&(this.plotTop+=a),this.extraBottomMargin&&(this.marginBottom+=a))});k.prototype.callbacks.push(K);f(k,"destroy",function(){for(var a=0;a<E.length;a++){var c=E[a];if(c[0]===this){c[1].forEach(function(a){return a()});E.splice(a,1);break}}});n.RangeSelector=w}return n.RangeSelector});
v(b,"Accessibility/Components/RangeSelectorComponent.js",[b["Accessibility/AccessibilityComponent.js"],b["Accessibility/Utils/ChartUtilities.js"],b["Accessibility/Utils/Announcer.js"],b["Core/Globals.js"],b["Accessibility/Utils/HTMLUtilities.js"],b["Accessibility/KeyboardNavigationHandler.js"],b["Core/Utilities.js"],b["Extensions/RangeSelector.js"]],function(b,k,n,p,r,g,h,z){var q=k.unhideChartElementFromAT,f=k.getAxisRangeDescription,e=r.setElAttrs,a=h.addEvent;k=h.extend;p.Chart.prototype.highlightRangeSelectorButton=
function(a){var c,b,e=(null===(c=this.rangeSelector)||void 0===c?void 0:c.buttons)||[];c=this.highlightedRangeSelectorItemIx;var f=null===(b=this.rangeSelector)||void 0===b?void 0:b.selected;"undefined"!==typeof c&&e[c]&&c!==f&&e[c].setState(this.oldRangeSelectorItemState||0);this.highlightedRangeSelectorItemIx=a;return e[a]?(this.setFocusToElement(e[a].box,e[a].element),a!==f&&(this.oldRangeSelectorItemState=e[a].state,e[a].setState(1)),!0):!1};a(z,"afterBtnClick",function(){var a,b=null===(a=this.chart.accessibility)||
void 0===a?void 0:a.components.rangeSelector;return null===b||void 0===b?void 0:b.onAfterBtnClick()});p=function(){};p.prototype=new b;k(p.prototype,{init:function(){this.announcer=new n(this.chart,"polite")},onChartUpdate:function(){var a,b=this.chart,e=this,f=b.rangeSelector;f&&(this.updateSelectorVisibility(),this.setDropdownAttrs(),(null===(a=f.buttons)||void 0===a?0:a.length)&&f.buttons.forEach(function(a){e.setRangeButtonAttrs(a)}),f.maxInput&&f.minInput&&["minInput","maxInput"].forEach(function(a,
c){if(a=f[a])q(b,a),e.setRangeInputAttrs(a,"accessibility.rangeSelector."+(c?"max":"min")+"InputLabel")}))},updateSelectorVisibility:function(){var a=this.chart,b=a.rangeSelector,e=null===b||void 0===b?void 0:b.dropdown,f=(null===b||void 0===b?void 0:b.buttons)||[];(null===b||void 0===b?0:b.hasVisibleDropdown)&&e?(q(a,e),f.forEach(function(a){return a.element.setAttribute("aria-hidden",!0)})):(e&&e.setAttribute("aria-hidden",!0),f.forEach(function(c){return q(a,c.element)}))},setDropdownAttrs:function(){var a,
b=this.chart,e=null===(a=b.rangeSelector)||void 0===a?void 0:a.dropdown;e&&(a=b.langFormat("accessibility.rangeSelector.dropdownLabel",{rangeTitle:b.options.lang.rangeSelectorZoom}),e.setAttribute("aria-label",a),e.setAttribute("tabindex",-1))},setRangeButtonAttrs:function(a){e(a.element,{tabindex:-1,role:"button"})},setRangeInputAttrs:function(a,b){var c=this.chart;e(a,{tabindex:-1,"aria-label":c.langFormat(b,{chart:c})})},onButtonNavKbdArrowKey:function(a,b){var c=a.response,d=this.keyCodes,e=this.chart,
f=e.options.accessibility.keyboardNavigation.wrapAround;b=b===d.left||b===d.up?-1:1;return e.highlightRangeSelectorButton(e.highlightedRangeSelectorItemIx+b)?c.success:f?(a.init(b),c.success):c[0<b?"next":"prev"]},onButtonNavKbdClick:function(a){a=a.response;var c=this.chart;3!==c.oldRangeSelectorItemState&&this.fakeClickEvent(c.rangeSelector.buttons[c.highlightedRangeSelectorItemIx].element);return a.success},onAfterBtnClick:function(){var a=this.chart,b=f(a.xAxis[0]);(a=a.langFormat("accessibility.rangeSelector.clickButtonAnnouncement",
{chart:a,axisRangeDescription:b}))&&this.announcer.announce(a)},onInputKbdMove:function(a){var c,b,e=this.chart,f=e.rangeSelector,g=e.highlightedInputRangeIx=(e.highlightedInputRangeIx||0)+a;1<g||0>g?(null===(c=e.accessibility)||void 0===c?void 0:c.keyboardNavigation.tabindexContainer.focus(),null===(b=e.accessibility)||void 0===b?void 0:b.keyboardNavigation[0>a?"prev":"next"]()):f&&(a=f[g?"maxDateBox":"minDateBox"],f=f[g?"maxInput":"minInput"],a&&f&&e.setFocusToElement(a,f))},onInputNavInit:function(c){var b=
this,e=this,f=this.chart,g=0<c?0:1,h=f.rangeSelector,k=null===h||void 0===h?void 0:h[g?"maxDateBox":"minDateBox"];c=null===h||void 0===h?void 0:h.minInput;h=null===h||void 0===h?void 0:h.maxInput;f.highlightedInputRangeIx=g;if(k&&c&&h){f.setFocusToElement(k,g?h:c);this.removeInputKeydownHandler&&this.removeInputKeydownHandler();f=function(a){(a.which||a.keyCode)===b.keyCodes.tab&&(a.preventDefault(),a.stopPropagation(),e.onInputKbdMove(a.shiftKey?-1:1))};var q=a(c,"keydown",f),r=a(h,"keydown",f);
this.removeInputKeydownHandler=function(){q();r()}}},onInputNavTerminate:function(){var a=this.chart.rangeSelector||{};a.maxInput&&a.hideInput("max");a.minInput&&a.hideInput("min");this.removeInputKeydownHandler&&(this.removeInputKeydownHandler(),delete this.removeInputKeydownHandler)},initDropdownNav:function(){var c=this,b=this.chart,e=b.rangeSelector,f=null===e||void 0===e?void 0:e.dropdown;e&&f&&(b.setFocusToElement(e.buttonGroup,f),this.removeDropdownKeydownHandler&&this.removeDropdownKeydownHandler(),
this.removeDropdownKeydownHandler=a(f,"keydown",function(a){var d,e;(a.which||a.keyCode)===c.keyCodes.tab&&(a.preventDefault(),a.stopPropagation(),null===(d=b.accessibility)||void 0===d?void 0:d.keyboardNavigation.tabindexContainer.focus(),null===(e=b.accessibility)||void 0===e?void 0:e.keyboardNavigation[a.shiftKey?"prev":"next"]())}))},getRangeSelectorButtonNavigation:function(){var a=this.chart,b=this.keyCodes,e=this;return new g(a,{keyCodeMap:[[[b.left,b.right,b.up,b.down],function(a){return e.onButtonNavKbdArrowKey(this,
a)}],[[b.enter,b.space],function(){return e.onButtonNavKbdClick(this)}]],validate:function(){var c,b;return!(null===(b=null===(c=a.rangeSelector)||void 0===c?void 0:c.buttons)||void 0===b||!b.length)},init:function(c){var b=a.rangeSelector;(null===b||void 0===b?0:b.hasVisibleDropdown)?e.initDropdownNav():b&&(b=b.buttons.length-1,a.highlightRangeSelectorButton(0<c?0:b))},terminate:function(){e.removeDropdownKeydownHandler&&(e.removeDropdownKeydownHandler(),delete e.removeDropdownKeydownHandler)}})},
getRangeSelectorInputNavigation:function(){var a=this.chart,b=this;return new g(a,{keyCodeMap:[],validate:function(){return!!(a.rangeSelector&&a.rangeSelector.inputGroup&&"hidden"!==a.rangeSelector.inputGroup.element.getAttribute("visibility")&&!1!==a.options.rangeSelector.inputEnabled&&a.rangeSelector.minInput&&a.rangeSelector.maxInput)},init:function(a){b.onInputNavInit(a)},terminate:function(){b.onInputNavTerminate()}})},getKeyboardNavigation:function(){return[this.getRangeSelectorButtonNavigation(),
this.getRangeSelectorInputNavigation()]},destroy:function(){var a;this.removeDropdownKeydownHandler&&this.removeDropdownKeydownHandler();this.removeInputKeydownHandler&&this.removeInputKeydownHandler();null===(a=this.announcer)||void 0===a?void 0:a.destroy()}});return p});v(b,"Accessibility/Components/InfoRegionsComponent.js",[b["Core/Globals.js"],b["Core/Renderer/HTML/AST.js"],b["Core/Utilities.js"],b["Accessibility/AccessibilityComponent.js"],b["Accessibility/Utils/Announcer.js"],b["Accessibility/Components/AnnotationsA11y.js"],
b["Accessibility/Utils/ChartUtilities.js"],b["Accessibility/Utils/HTMLUtilities.js"]],function(b,k,n,p,r,g,h,z){var q=b.doc,f=n.extend,e=n.format,a=n.pick,c=g.getAnnotationsInfoHTML,d=h.getAxisDescription,l=h.getAxisRangeDescription,y=h.getChartTitle,x=h.unhideChartElementFromAT,v=z.addClass,M=z.getElement,N=z.getHeadingTagNameForElement,H=z.setElAttrs,D=z.stripHTMLTagsFromString,A=z.visuallyHideElement;b.Chart.prototype.getTypeDescription=function(a){var b=a[0],c=this.series&&this.series[0]||{};
c={numSeries:this.series.length,numPoints:c.points&&c.points.length,chart:this,mapTitle:c.mapTitle};if(!b)return this.langFormat("accessibility.chartTypes.emptyChart",c);if("map"===b)return c.mapTitle?this.langFormat("accessibility.chartTypes.mapTypeDescription",c):this.langFormat("accessibility.chartTypes.unknownMap",c);if(1<this.types.length)return this.langFormat("accessibility.chartTypes.combinationChart",c);a=a[0];b=this.langFormat("accessibility.seriesTypeDescriptions."+a,c);var d=this.series&&
2>this.series.length?"Single":"Multiple";return(this.langFormat("accessibility.chartTypes."+a+d,c)||this.langFormat("accessibility.chartTypes.default"+d,c))+(b?" "+b:"")};n=function(){};n.prototype=new p;f(n.prototype,{init:function(){var a=this.chart,b=this;this.initRegionsDefinitions();this.addEvent(a,"aftergetTableAST",function(a){b.onDataTableCreated(a)});this.addEvent(a,"afterViewData",function(a){b.dataTableDiv=a;setTimeout(function(){b.focusDataTable()},300)});this.announcer=new r(a,"assertive")},
initRegionsDefinitions:function(){var a=this;this.screenReaderSections={before:{element:null,buildContent:function(b){var c=b.options.accessibility.screenReaderSection.beforeChartFormatter;return c?c(b):a.defaultBeforeChartFormatter(b)},insertIntoDOM:function(a,b){b.renderTo.insertBefore(a,b.renderTo.firstChild)},afterInserted:function(){"undefined"!==typeof a.sonifyButtonId&&a.initSonifyButton(a.sonifyButtonId);"undefined"!==typeof a.dataTableButtonId&&a.initDataTableButton(a.dataTableButtonId)}},
after:{element:null,buildContent:function(b){var c=b.options.accessibility.screenReaderSection.afterChartFormatter;return c?c(b):a.defaultAfterChartFormatter()},insertIntoDOM:function(a,b){b.renderTo.insertBefore(a,b.container.nextSibling)}}}},onChartRender:function(){var a=this;this.linkedDescriptionElement=this.getLinkedDescriptionElement();this.setLinkedDescriptionAttrs();Object.keys(this.screenReaderSections).forEach(function(b){a.updateScreenReaderSection(b)})},getLinkedDescriptionElement:function(){var a=
this.chart.options.accessibility.linkedDescription;if(a){if("string"!==typeof a)return a;a=e(a,this.chart);a=q.querySelectorAll(a);if(1===a.length)return a[0]}},setLinkedDescriptionAttrs:function(){var a=this.linkedDescriptionElement;a&&(a.setAttribute("aria-hidden","true"),v(a,"highcharts-linked-description"))},updateScreenReaderSection:function(a){var b=this.chart,c=this.screenReaderSections[a],d=c.buildContent(b),e=c.element=c.element||this.createElement("div"),f=e.firstChild||this.createElement("div");
this.setScreenReaderSectionAttribs(e,a);k.setElementHTML(f,d);e.appendChild(f);c.insertIntoDOM(e,b);A(f);x(b,f);c.afterInserted&&c.afterInserted()},setScreenReaderSectionAttribs:function(a,b){var c=this.chart,d=c.langFormat("accessibility.screenReaderSection."+b+"RegionLabel",{chart:c});H(a,{id:"highcharts-screen-reader-region-"+b+"-"+c.index,"aria-label":d});a.style.position="relative";"all"===c.options.accessibility.landmarkVerbosity&&d&&a.setAttribute("role","region")},defaultBeforeChartFormatter:function(){var a,
d=this.chart,e=d.options.accessibility.screenReaderSection.beforeChartFormat,f=this.getAxesDescription(),g=d.sonify&&(null===(a=d.options.sonification)||void 0===a?void 0:a.enabled);a="highcharts-a11y-sonify-data-btn-"+d.index;var h="hc-linkto-highcharts-data-table-"+d.index,l=c(d),k=d.langFormat("accessibility.screenReaderSection.annotations.heading",{chart:d});f={headingTagName:N(d.renderTo),chartTitle:y(d),typeDescription:this.getTypeDescriptionText(),chartSubtitle:this.getSubtitleText(),chartLongdesc:this.getLongdescText(),
xAxisDescription:f.xAxis,yAxisDescription:f.yAxis,playAsSoundButton:g?this.getSonifyButtonText(a):"",viewTableButton:d.getCSV?this.getDataTableButtonText(h):"",annotationsTitle:l?k:"",annotationsList:l};d=b.i18nFormat(e,f,d);this.dataTableButtonId=h;this.sonifyButtonId=a;return d.replace(/<(\w+)[^>]*?>\s*<\/\1>/g,"")},defaultAfterChartFormatter:function(){var a=this.chart,c=a.options.accessibility.screenReaderSection.afterChartFormat,d={endOfChartMarker:this.getEndOfChartMarkerText()};return b.i18nFormat(c,
d,a).replace(/<(\w+)[^>]*?>\s*<\/\1>/g,"")},getLinkedDescription:function(){var a=this.linkedDescriptionElement;return D(a&&a.innerHTML||"")},getLongdescText:function(){var a=this.chart.options,b=a.caption;b=b&&b.text;var c=this.getLinkedDescription();return a.accessibility.description||c||b||""},getTypeDescriptionText:function(){var a=this.chart;return a.types?a.options.accessibility.typeDescription||a.getTypeDescription(a.types):""},getDataTableButtonText:function(a){var b=this.chart;b=b.langFormat("accessibility.table.viewAsDataTableButtonText",
{chart:b,chartTitle:y(b)});return'<button id="'+a+'">'+b+"</button>"},getSonifyButtonText:function(a){var b,c=this.chart;if(!1===(null===(b=c.options.sonification)||void 0===b?void 0:b.enabled))return"";b=c.langFormat("accessibility.sonification.playAsSoundButtonText",{chart:c,chartTitle:y(c)});return'<button id="'+a+'">'+b+"</button>"},getSubtitleText:function(){var a=this.chart.options.subtitle;return D(a&&a.text||"")},getEndOfChartMarkerText:function(){var a=this.chart,b=a.langFormat("accessibility.screenReaderSection.endOfChartMarker",
{chart:a});return'<div id="highcharts-end-of-chart-marker-'+a.index+'">'+b+"</div>"},onDataTableCreated:function(a){var b=this.chart;if(b.options.accessibility.enabled){this.viewDataTableButton&&this.viewDataTableButton.setAttribute("aria-expanded","true");var c=a.tree.attributes||{};c.tabindex=-1;c.summary=b.langFormat("accessibility.table.tableSummary",{chart:b});a.tree.attributes=c}},focusDataTable:function(){var a=this.dataTableDiv;(a=a&&a.getElementsByTagName("table")[0])&&a.focus&&a.focus()},
initSonifyButton:function(a){var b=this,c=this.sonifyButton=M(a),d=this.chart,e=function(a){null===c||void 0===c?void 0:c.setAttribute("aria-hidden","true");null===c||void 0===c?void 0:c.setAttribute("aria-label","");a.preventDefault();a.stopPropagation();a=d.langFormat("accessibility.sonification.playAsSoundClickAnnouncement",{chart:d});b.announcer.announce(a);setTimeout(function(){null===c||void 0===c?void 0:c.removeAttribute("aria-hidden");null===c||void 0===c?void 0:c.removeAttribute("aria-label");
d.sonify&&d.sonify()},1E3)};c&&d&&(H(c,{tabindex:-1}),c.onclick=function(a){var b;((null===(b=d.options.accessibility)||void 0===b?void 0:b.screenReaderSection.onPlayAsSoundClick)||e).call(this,a,d)})},initDataTableButton:function(a){var b=this.viewDataTableButton=M(a),c=this.chart;a=a.replace("hc-linkto-","");b&&(H(b,{tabindex:-1,"aria-expanded":!!M(a)}),b.onclick=c.options.accessibility.screenReaderSection.onViewDataTableClick||function(){c.viewData()})},getAxesDescription:function(){var b=this.chart,
c=function(c,d){c=b[c];return 1<c.length||c[0]&&a(c[0].options.accessibility&&c[0].options.accessibility.enabled,d)},d=!!b.types&&0>b.types.indexOf("map"),e=!!b.hasCartesianSeries,f=c("xAxis",!b.angular&&e&&d);c=c("yAxis",e&&d);d={};f&&(d.xAxis=this.getAxisDescriptionText("xAxis"));c&&(d.yAxis=this.getAxisDescriptionText("yAxis"));return d},getAxisDescriptionText:function(a){var b=this.chart,c=b[a];return b.langFormat("accessibility.axis."+a+"Description"+(1<c.length?"Plural":"Singular"),{chart:b,
names:c.map(function(a){return d(a)}),ranges:c.map(function(a){return l(a)}),numAxes:c.length})},destroy:function(){var a;null===(a=this.announcer)||void 0===a?void 0:a.destroy()}});return n});v(b,"Accessibility/Components/ContainerComponent.js",[b["Accessibility/AccessibilityComponent.js"],b["Accessibility/Utils/ChartUtilities.js"],b["Core/Globals.js"],b["Accessibility/Utils/HTMLUtilities.js"],b["Core/Utilities.js"]],function(b,k,n,p,r){var g=k.unhideChartElementFromAT,h=k.getChartTitle,z=n.doc,
q=p.stripHTMLTagsFromString;k=r.extend;n=function(){};n.prototype=new b;k(n.prototype,{onChartUpdate:function(){this.handleSVGTitleElement();this.setSVGContainerLabel();this.setGraphicContainerAttrs();this.setRenderToAttrs();this.makeCreditsAccessible()},handleSVGTitleElement:function(){var b=this.chart,e="highcharts-title-"+b.index,a=q(b.langFormat("accessibility.svgContainerTitle",{chartTitle:h(b)}));if(a.length){var c=this.svgTitleElement=this.svgTitleElement||z.createElementNS("http://www.w3.org/2000/svg",
"title");c.textContent=a;c.id=e;b.renderTo.insertBefore(c,b.renderTo.firstChild)}},setSVGContainerLabel:function(){var b=this.chart,e=b.langFormat("accessibility.svgContainerLabel",{chartTitle:h(b)});b.renderer.box&&e.length&&b.renderer.box.setAttribute("aria-label",e)},setGraphicContainerAttrs:function(){var b=this.chart,e=b.langFormat("accessibility.graphicContainerLabel",{chartTitle:h(b)});e.length&&b.container.setAttribute("aria-label",e)},setRenderToAttrs:function(){var b=this.chart;"disabled"!==
b.options.accessibility.landmarkVerbosity?b.renderTo.setAttribute("role","region"):b.renderTo.removeAttribute("role");b.renderTo.setAttribute("aria-label",b.langFormat("accessibility.chartContainerLabel",{title:h(b),chart:b}))},makeCreditsAccessible:function(){var b=this.chart,e=b.credits;e&&(e.textStr&&e.element.setAttribute("aria-label",b.langFormat("accessibility.credits",{creditsStr:q(e.textStr)})),g(b,e.element))},destroy:function(){this.chart.renderTo.setAttribute("aria-hidden",!0)}});return n});
v(b,"Accessibility/HighContrastMode.js",[b["Core/Globals.js"]],function(b){var k=b.doc,n=b.isMS,p=b.win;return{isHighContrastModeActive:function(){var b=/(Edg)/.test(p.navigator.userAgent);if(p.matchMedia&&b)return p.matchMedia("(-ms-high-contrast: active)").matches;if(n&&p.getComputedStyle){b=k.createElement("div");b.style.backgroundImage="url(data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==)";k.body.appendChild(b);var g=(b.currentStyle||p.getComputedStyle(b)).backgroundImage;
k.body.removeChild(b);return"none"===g}return!1},setHighContrastTheme:function(b){b.highContrastModeActive=!0;var g=b.options.accessibility.highContrastTheme;b.update(g,!1);b.series.forEach(function(b){var h=g.plotOptions[b.type]||{};b.update({color:h.color||"windowText",colors:[h.color||"windowText"],borderColor:h.borderColor||"window"});b.points.forEach(function(b){b.options&&b.options.color&&b.update({color:h.color||"windowText",borderColor:h.borderColor||"window"},!1)})});b.redraw()}}});v(b,"Accessibility/HighContrastTheme.js",
[],function(){return{chart:{backgroundColor:"window"},title:{style:{color:"windowText"}},subtitle:{style:{color:"windowText"}},colorAxis:{minColor:"windowText",maxColor:"windowText",stops:[]},colors:["windowText"],xAxis:{gridLineColor:"windowText",labels:{style:{color:"windowText"}},lineColor:"windowText",minorGridLineColor:"windowText",tickColor:"windowText",title:{style:{color:"windowText"}}},yAxis:{gridLineColor:"windowText",labels:{style:{color:"windowText"}},lineColor:"windowText",minorGridLineColor:"windowText",
tickColor:"windowText",title:{style:{color:"windowText"}}},tooltip:{backgroundColor:"window",borderColor:"windowText",style:{color:"windowText"}},plotOptions:{series:{lineColor:"windowText",fillColor:"window",borderColor:"windowText",edgeColor:"windowText",borderWidth:1,dataLabels:{connectorColor:"windowText",color:"windowText",style:{color:"windowText",textOutline:"none"}},marker:{lineColor:"windowText",fillColor:"windowText"}},pie:{color:"window",colors:["window"],borderColor:"windowText",borderWidth:1},
boxplot:{fillColor:"window"},candlestick:{lineColor:"windowText",fillColor:"window"},errorbar:{fillColor:"window"}},legend:{backgroundColor:"window",itemStyle:{color:"windowText"},itemHoverStyle:{color:"windowText"},itemHiddenStyle:{color:"#555"},title:{style:{color:"windowText"}}},credits:{style:{color:"windowText"}},labels:{style:{color:"windowText"}},drilldown:{activeAxisLabelStyle:{color:"windowText"},activeDataLabelStyle:{color:"windowText"}},navigation:{buttonOptions:{symbolStroke:"windowText",
theme:{fill:"window"}}},rangeSelector:{buttonTheme:{fill:"window",stroke:"windowText",style:{color:"windowText"},states:{hover:{fill:"window",stroke:"windowText",style:{color:"windowText"}},select:{fill:"#444",stroke:"windowText",style:{color:"windowText"}}}},inputBoxBorderColor:"windowText",inputStyle:{backgroundColor:"window",color:"windowText"},labelStyle:{color:"windowText"}},navigator:{handles:{backgroundColor:"window",borderColor:"windowText"},outlineColor:"windowText",maskFill:"transparent",
series:{color:"windowText",lineColor:"windowText"},xAxis:{gridLineColor:"windowText"}},scrollbar:{barBackgroundColor:"#444",barBorderColor:"windowText",buttonArrowColor:"windowText",buttonBackgroundColor:"window",buttonBorderColor:"windowText",rifleColor:"windowText",trackBackgroundColor:"window",trackBorderColor:"windowText"}}});v(b,"Accessibility/Options/Options.js",[b["Core/Color/Palette.js"]],function(b){return{accessibility:{enabled:!0,screenReaderSection:{beforeChartFormat:"<{headingTagName}>{chartTitle}</{headingTagName}><div>{typeDescription}</div><div>{chartSubtitle}</div><div>{chartLongdesc}</div><div>{playAsSoundButton}</div><div>{viewTableButton}</div><div>{xAxisDescription}</div><div>{yAxisDescription}</div><div>{annotationsTitle}{annotationsList}</div>",
afterChartFormat:"{endOfChartMarker}",axisRangeDateFormat:"%Y-%m-%d %H:%M:%S"},series:{describeSingleSeries:!1,pointDescriptionEnabledThreshold:200},point:{valueDescriptionFormat:"{index}. {xDescription}{separator}{value}."},landmarkVerbosity:"all",linkedDescription:'*[data-highcharts-chart="{index}"] + .highcharts-description',keyboardNavigation:{enabled:!0,focusBorder:{enabled:!0,hideBrowserFocusOutline:!0,style:{color:b.highlightColor80,lineWidth:2,borderRadius:3},margin:2},order:["series","zoom",
"rangeSelector","legend","chartMenu"],wrapAround:!0,seriesNavigation:{skipNullPoints:!0,pointNavigationEnabledThreshold:!1}},announceNewData:{enabled:!1,minAnnounceInterval:5E3,interruptUser:!1}},legend:{accessibility:{enabled:!0,keyboardNavigation:{enabled:!0}}},exporting:{accessibility:{enabled:!0}}}});v(b,"Accessibility/Options/LangOptions.js",[],function(){return{accessibility:{defaultChartTitle:"Chart",chartContainerLabel:"{title}. Highcharts interactive chart.",svgContainerLabel:"Interactive chart",
drillUpButton:"{buttonText}",credits:"Chart credits: {creditsStr}",thousandsSep:",",svgContainerTitle:"",graphicContainerLabel:"",screenReaderSection:{beforeRegionLabel:"Chart screen reader information.",afterRegionLabel:"",annotations:{heading:"Chart annotations summary",descriptionSinglePoint:"{annotationText}. Related to {annotationPoint}",descriptionMultiplePoints:"{annotationText}. Related to {annotationPoint}{ Also related to, #each(additionalAnnotationPoints)}",descriptionNoPoints:"{annotationText}"},
endOfChartMarker:"End of interactive chart."},sonification:{playAsSoundButtonText:"Play as sound, {chartTitle}",playAsSoundClickAnnouncement:"Play"},legend:{legendLabelNoTitle:"Toggle series visibility",legendLabel:"Chart legend: {legendTitle}",legendItem:"Show {itemName}"},zoom:{mapZoomIn:"Zoom chart",mapZoomOut:"Zoom out chart",resetZoomButton:"Reset zoom"},rangeSelector:{dropdownLabel:"{rangeTitle}",minInputLabel:"Select start date.",maxInputLabel:"Select end date.",clickButtonAnnouncement:"Viewing {axisRangeDescription}"},
table:{viewAsDataTableButtonText:"View as data table, {chartTitle}",tableSummary:"Table representation of chart."},announceNewData:{newDataAnnounce:"Updated data for chart {chartTitle}",newSeriesAnnounceSingle:"New data series: {seriesDesc}",newPointAnnounceSingle:"New data point: {pointDesc}",newSeriesAnnounceMultiple:"New data series in chart {chartTitle}: {seriesDesc}",newPointAnnounceMultiple:"New data point in chart {chartTitle}: {pointDesc}"},seriesTypeDescriptions:{boxplot:"Box plot charts are typically used to display groups of statistical data. Each data point in the chart can have up to 5 values: minimum, lower quartile, median, upper quartile, and maximum.",
arearange:"Arearange charts are line charts displaying a range between a lower and higher value for each point.",areasplinerange:"These charts are line charts displaying a range between a lower and higher value for each point.",bubble:"Bubble charts are scatter charts where each data point also has a size value.",columnrange:"Columnrange charts are column charts displaying a range between a lower and higher value for each point.",errorbar:"Errorbar series are used to display the variability of the data.",
funnel:"Funnel charts are used to display reduction of data in stages.",pyramid:"Pyramid charts consist of a single pyramid with item heights corresponding to each point value.",waterfall:"A waterfall chart is a column chart where each column contributes towards a total end value."},chartTypes:{emptyChart:"Empty chart",mapTypeDescription:"Map of {mapTitle} with {numSeries} data series.",unknownMap:"Map of unspecified region with {numSeries} data series.",combinationChart:"Combination chart with {numSeries} data series.",
defaultSingle:"Chart with {numPoints} data {#plural(numPoints, points, point)}.",defaultMultiple:"Chart with {numSeries} data series.",splineSingle:"Line chart with {numPoints} data {#plural(numPoints, points, point)}.",splineMultiple:"Line chart with {numSeries} lines.",lineSingle:"Line chart with {numPoints} data {#plural(numPoints, points, point)}.",lineMultiple:"Line chart with {numSeries} lines.",columnSingle:"Bar chart with {numPoints} {#plural(numPoints, bars, bar)}.",columnMultiple:"Bar chart with {numSeries} data series.",
barSingle:"Bar chart with {numPoints} {#plural(numPoints, bars, bar)}.",barMultiple:"Bar chart with {numSeries} data series.",pieSingle:"Pie chart with {numPoints} {#plural(numPoints, slices, slice)}.",pieMultiple:"Pie chart with {numSeries} pies.",scatterSingle:"Scatter chart with {numPoints} {#plural(numPoints, points, point)}.",scatterMultiple:"Scatter chart with {numSeries} data series.",boxplotSingle:"Boxplot with {numPoints} {#plural(numPoints, boxes, box)}.",boxplotMultiple:"Boxplot with {numSeries} data series.",
bubbleSingle:"Bubble chart with {numPoints} {#plural(numPoints, bubbles, bubble)}.",bubbleMultiple:"Bubble chart with {numSeries} data series."},axis:{xAxisDescriptionSingular:"The chart has 1 X axis displaying {names[0]}. {ranges[0]}",xAxisDescriptionPlural:"The chart has {numAxes} X axes displaying {#each(names, -1) }and {names[-1]}.",yAxisDescriptionSingular:"The chart has 1 Y axis displaying {names[0]}. {ranges[0]}",yAxisDescriptionPlural:"The chart has {numAxes} Y axes displaying {#each(names, -1) }and {names[-1]}.",
timeRangeDays:"Range: {range} days.",timeRangeHours:"Range: {range} hours.",timeRangeMinutes:"Range: {range} minutes.",timeRangeSeconds:"Range: {range} seconds.",rangeFromTo:"Range: {rangeFrom} to {rangeTo}.",rangeCategories:"Range: {numCategories} categories."},exporting:{chartMenuLabel:"Chart menu",menuButtonLabel:"View chart menu",exportRegionLabel:"Chart menu"},series:{summary:{"default":"{name}, series {ix} of {numSeries} with {numPoints} data {#plural(numPoints, points, point)}.",defaultCombination:"{name}, series {ix} of {numSeries} with {numPoints} data {#plural(numPoints, points, point)}.",
line:"{name}, line {ix} of {numSeries} with {numPoints} data {#plural(numPoints, points, point)}.",lineCombination:"{name}, series {ix} of {numSeries}. Line with {numPoints} data {#plural(numPoints, points, point)}.",spline:"{name}, line {ix} of {numSeries} with {numPoints} data {#plural(numPoints, points, point)}.",splineCombination:"{name}, series {ix} of {numSeries}. Line with {numPoints} data {#plural(numPoints, points, point)}.",column:"{name}, bar series {ix} of {numSeries} with {numPoints} {#plural(numPoints, bars, bar)}.",
columnCombination:"{name}, series {ix} of {numSeries}. Bar series with {numPoints} {#plural(numPoints, bars, bar)}.",bar:"{name}, bar series {ix} of {numSeries} with {numPoints} {#plural(numPoints, bars, bar)}.",barCombination:"{name}, series {ix} of {numSeries}. Bar series with {numPoints} {#plural(numPoints, bars, bar)}.",pie:"{name}, pie {ix} of {numSeries} with {numPoints} {#plural(numPoints, slices, slice)}.",pieCombination:"{name}, series {ix} of {numSeries}. Pie with {numPoints} {#plural(numPoints, slices, slice)}.",
scatter:"{name}, scatter plot {ix} of {numSeries} with {numPoints} {#plural(numPoints, points, point)}.",scatterCombination:"{name}, series {ix} of {numSeries}, scatter plot with {numPoints} {#plural(numPoints, points, point)}.",boxplot:"{name}, boxplot {ix} of {numSeries} with {numPoints} {#plural(numPoints, boxes, box)}.",boxplotCombination:"{name}, series {ix} of {numSeries}. Boxplot with {numPoints} {#plural(numPoints, boxes, box)}.",bubble:"{name}, bubble series {ix} of {numSeries} with {numPoints} {#plural(numPoints, bubbles, bubble)}.",
bubbleCombination:"{name}, series {ix} of {numSeries}. Bubble series with {numPoints} {#plural(numPoints, bubbles, bubble)}.",map:"{name}, map {ix} of {numSeries} with {numPoints} {#plural(numPoints, areas, area)}.",mapCombination:"{name}, series {ix} of {numSeries}. Map with {numPoints} {#plural(numPoints, areas, area)}.",mapline:"{name}, line {ix} of {numSeries} with {numPoints} data {#plural(numPoints, points, point)}.",maplineCombination:"{name}, series {ix} of {numSeries}. Line with {numPoints} data {#plural(numPoints, points, point)}.",
mapbubble:"{name}, bubble series {ix} of {numSeries} with {numPoints} {#plural(numPoints, bubbles, bubble)}.",mapbubbleCombination:"{name}, series {ix} of {numSeries}. Bubble series with {numPoints} {#plural(numPoints, bubbles, bubble)}."},description:"{description}",xAxisDescription:"X axis, {name}",yAxisDescription:"Y axis, {name}",nullPointValue:"No value",pointAnnotationsDescription:"{Annotation: #each(annotations). }"}}}});v(b,"Accessibility/Options/DeprecatedOptions.js",[b["Core/Utilities.js"]],
function(b){function k(b,f,e){for(var a,c=0;c<f.length-1;++c)a=f[c],b=b[a]=z(b[a],{});b[f[f.length-1]]=e}function n(b,f,e,a){function c(a,b){return b.reduce(function(a,b){return a[b]},a)}var d=c(b.options,f),g=c(b.options,e);Object.keys(a).forEach(function(c){var l,q=d[c];"undefined"!==typeof q&&(k(g,a[c],q),h(32,!1,b,(l={},l[f.join(".")+"."+c]=e.join(".")+"."+a[c].join("."),l)))})}function p(b){var f=b.options.chart,e=b.options.accessibility||{};["description","typeDescription"].forEach(function(a){var c;
f[a]&&(e[a]=f[a],h(32,!1,b,(c={},c["chart."+a]="use accessibility."+a,c)))})}function r(b){b.axes.forEach(function(f){(f=f.options)&&f.description&&(f.accessibility=f.accessibility||{},f.accessibility.description=f.description,h(32,!1,b,{"axis.description":"use axis.accessibility.description"}))})}function g(b){var f={description:["accessibility","description"],exposeElementToA11y:["accessibility","exposeAsGroupOnly"],pointDescriptionFormatter:["accessibility","pointDescriptionFormatter"],skipKeyboardNavigation:["accessibility",
"keyboardNavigation","enabled"]};b.series.forEach(function(e){Object.keys(f).forEach(function(a){var c,d=e.options[a];"undefined"!==typeof d&&(k(e.options,f[a],"skipKeyboardNavigation"===a?!d:d),h(32,!1,b,(c={},c["series."+a]="series."+f[a].join("."),c)))})})}var h=b.error,z=b.pick;return function(b){p(b);r(b);b.series&&g(b);n(b,["accessibility"],["accessibility"],{pointDateFormat:["point","dateFormat"],pointDateFormatter:["point","dateFormatter"],pointDescriptionFormatter:["point","descriptionFormatter"],
pointDescriptionThreshold:["series","pointDescriptionEnabledThreshold"],pointNavigationThreshold:["keyboardNavigation","seriesNavigation","pointNavigationEnabledThreshold"],pointValueDecimals:["point","valueDecimals"],pointValuePrefix:["point","valuePrefix"],pointValueSuffix:["point","valueSuffix"],screenReaderSectionFormatter:["screenReaderSection","beforeChartFormatter"],describeSingleSeries:["series","describeSingleSeries"],seriesDescriptionFormatter:["series","descriptionFormatter"],onTableAnchorClick:["screenReaderSection",
"onViewDataTableClick"],axisRangeDateFormat:["screenReaderSection","axisRangeDateFormat"]});n(b,["accessibility","keyboardNavigation"],["accessibility","keyboardNavigation","seriesNavigation"],{skipNullPoints:["skipNullPoints"],mode:["mode"]});n(b,["lang","accessibility"],["lang","accessibility"],{legendItem:["legend","legendItem"],legendLabel:["legend","legendLabel"],mapZoomIn:["zoom","mapZoomIn"],mapZoomOut:["zoom","mapZoomOut"],resetZoomButton:["zoom","resetZoomButton"],screenReaderRegionLabel:["screenReaderSection",
"beforeRegionLabel"],rangeSelectorButton:["rangeSelector","buttonText"],rangeSelectorMaxInput:["rangeSelector","maxInputLabel"],rangeSelectorMinInput:["rangeSelector","minInputLabel"],svgContainerEnd:["screenReaderSection","endOfChartMarker"],viewAsDataTable:["table","viewAsDataTableButtonText"],tableSummary:["table","tableSummary"]})}});v(b,"Accessibility/A11yI18n.js",[b["Core/Globals.js"],b["Core/Utilities.js"]],function(b,k){function n(b,h){var g=b.indexOf("#each("),k=b.indexOf("#plural("),f=b.indexOf("["),
e=b.indexOf("]");if(-1<g){f=b.slice(g).indexOf(")")+g;var a=b.substring(0,g);k=b.substring(f+1);f=b.substring(g+6,f).split(",");g=Number(f[1]);b="";if(h=h[f[0]])for(g=isNaN(g)?h.length:g,g=0>g?h.length+g:Math.min(g,h.length),f=0;f<g;++f)b+=a+h[f]+k;return b.length?b:""}if(-1<k){a=b.slice(k).indexOf(")")+k;b=b.substring(k+8,a).split(",");switch(Number(h[b[0]])){case 0:b=r(b[4],b[1]);break;case 1:b=r(b[2],b[1]);break;case 2:b=r(b[3],b[1]);break;default:b=b[1]}b?(h=b,h=h.trim&&h.trim()||h.replace(/^\s+|\s+$/g,
"")):h="";return h}return-1<f?(k=b.substring(0,f),b=Number(b.substring(f+1,e)),h=h[k],!isNaN(b)&&h&&(0>b?(a=h[h.length+b],"undefined"===typeof a&&(a=h[0])):(a=h[b],"undefined"===typeof a&&(a=h[h.length-1]))),"undefined"!==typeof a?a:""):"{"+b+"}"}var p=k.format,r=k.pick;b.i18nFormat=function(b,h,k){var g=function(a,b){a=a.slice(b||0);var c=a.indexOf("{"),d=a.indexOf("}");if(-1<c&&d>c)return{statement:a.substring(c+1,d),begin:b+c+1,end:b+d}},f=[],e=0;do{var a=g(b,e);var c=b.substring(e,a&&a.begin-
1);c.length&&f.push({value:c,type:"constant"});a&&f.push({value:a.statement,type:"statement"});e=a?a.end+1:e+1}while(a);f.forEach(function(a){"statement"===a.type&&(a.value=n(a.value,h))});return p(f.reduce(function(a,b){return a+b.value},""),h,k)};b.Chart.prototype.langFormat=function(g,h){g=g.split(".");for(var k=this.options.lang,n=0;n<g.length;++n)k=k&&k[g[n]];return"string"===typeof k?b.i18nFormat(k,h,this):""}});v(b,"Accessibility/FocusBorder.js",[b["Core/Globals.js"],b["Core/Renderer/SVG/SVGElement.js"],
b["Core/Renderer/SVG/SVGLabel.js"],b["Core/Utilities.js"]],function(b,k,n,p){function r(a){if(!a.focusBorderDestroyHook){var b=a.destroy;a.destroy=function(){var c,e;null===(e=null===(c=a.focusBorder)||void 0===c?void 0:c.destroy)||void 0===e?void 0:e.call(c);return b.apply(a,arguments)};a.focusBorderDestroyHook=b}}function g(a){for(var b=[],d=1;d<arguments.length;d++)b[d-1]=arguments[d];a.focusBorderUpdateHooks||(a.focusBorderUpdateHooks={},e.forEach(function(c){c+="Setter";var d=a[c]||a._defaultSetter;
a.focusBorderUpdateHooks[c]=d;a[c]=function(){var c=d.apply(a,arguments);a.addFocusBorder.apply(a,b);return c}}))}function h(a){a.focusBorderUpdateHooks&&(Object.keys(a.focusBorderUpdateHooks).forEach(function(b){var c=a.focusBorderUpdateHooks[b];c===a._defaultSetter?delete a[b]:a[b]=c}),delete a.focusBorderUpdateHooks)}var v=p.addEvent,q=p.extend,f=p.pick,e="x y transform width height r d stroke-width".split(" ");q(k.prototype,{addFocusBorder:function(a,c){this.focusBorder&&this.removeFocusBorder();
var d=this.getBBox(),e=f(a,3);d.x+=this.translateX?this.translateX:0;d.y+=this.translateY?this.translateY:0;var h=d.x-e,k=d.y-e,p=d.width+2*e,q=d.height+2*e,v=this instanceof n;if("text"===this.element.nodeName||v){var z=!!this.rotation;if(v)var x={x:z?1:0,y:0};else{var A=x=0;"middle"===this.attr("text-anchor")?(x=b.isFirefox&&this.rotation?.25:.5,A=b.isFirefox&&!this.rotation?.75:.5):this.rotation?x=.25:A=.75;x={x:x,y:A}}A=+this.attr("x");var t=+this.attr("y");isNaN(A)||(h=A-d.width*x.x-e);isNaN(t)||
(k=t-d.height*x.y-e);v&&z&&(v=p,p=q,q=v,isNaN(A)||(h=A-d.height*x.x-e),isNaN(t)||(k=t-d.width*x.y-e))}this.focusBorder=this.renderer.rect(h,k,p,q,parseInt((c&&c.r||0).toString(),10)).addClass("highcharts-focus-border").attr({zIndex:99}).add(this.parentGroup);this.renderer.styledMode||this.focusBorder.attr({stroke:c&&c.stroke,"stroke-width":c&&c.strokeWidth});g(this,a,c);r(this)},removeFocusBorder:function(){h(this);this.focusBorderDestroyHook&&(this.destroy=this.focusBorderDestroyHook,delete this.focusBorderDestroyHook);
this.focusBorder&&(this.focusBorder.destroy(),delete this.focusBorder)}});b.Chart.prototype.renderFocusBorder=function(){var a=this.focusElement,b=this.options.accessibility.keyboardNavigation.focusBorder;a&&(a.removeFocusBorder(),b.enabled&&a.addFocusBorder(b.margin,{stroke:b.style.color,"stroke-width":b.style.lineWidth,r:b.style.borderRadius}))};b.Chart.prototype.setFocusToElement=function(a,b){var c=this.options.accessibility.keyboardNavigation.focusBorder;(b=b||a.element)&&b.focus&&(b.hcEvents&&
b.hcEvents.focusin||v(b,"focusin",function(){}),b.focus(),c.hideBrowserFocusOutline&&(b.style.outline="none"));this.focusElement&&this.focusElement.removeFocusBorder();this.focusElement=a;this.renderFocusBorder()}});v(b,"Accessibility/Accessibility.js",[b["Accessibility/Utils/ChartUtilities.js"],b["Core/Globals.js"],b["Accessibility/KeyboardNavigationHandler.js"],b["Core/Options.js"],b["Core/Series/Point.js"],b["Core/Series/Series.js"],b["Core/Utilities.js"],b["Accessibility/AccessibilityComponent.js"],
b["Accessibility/KeyboardNavigation.js"],b["Accessibility/Components/LegendComponent.js"],b["Accessibility/Components/MenuComponent.js"],b["Accessibility/Components/SeriesComponent/SeriesComponent.js"],b["Accessibility/Components/ZoomComponent.js"],b["Accessibility/Components/RangeSelectorComponent.js"],b["Accessibility/Components/InfoRegionsComponent.js"],b["Accessibility/Components/ContainerComponent.js"],b["Accessibility/HighContrastMode.js"],b["Accessibility/HighContrastTheme.js"],b["Accessibility/Options/Options.js"],
b["Accessibility/Options/LangOptions.js"],b["Accessibility/Options/DeprecatedOptions.js"],b["Accessibility/Utils/HTMLUtilities.js"]],function(b,k,n,p,r,g,h,v,q,f,e,a,c,d,l,y,G,F,M,N,H,D){function z(a){this.init(a)}var t=k.doc,x=h.addEvent,w=h.extend,E=h.fireEvent,K=h.merge;K(!0,p.defaultOptions,M,{accessibility:{highContrastTheme:F},lang:N});k.A11yChartUtilities=b;k.A11yHTMLUtilities=D;k.KeyboardNavigationHandler=n;k.AccessibilityComponent=v;z.prototype={init:function(a){this.chart=a;t.addEventListener&&
a.renderer.isSVG?(H(a),this.initComponents(),this.keyboardNavigation=new q(a,this.components),this.update()):a.renderTo.setAttribute("aria-hidden",!0)},initComponents:function(){var b=this.chart,g=b.options.accessibility;this.components={container:new y,infoRegions:new l,legend:new f,chartMenu:new e,rangeSelector:new d,series:new a,zoom:new c};g.customComponents&&w(this.components,g.customComponents);var h=this.components;this.getComponentOrder().forEach(function(a){h[a].initBase(b);h[a].init()})},
getComponentOrder:function(){if(!this.components)return[];if(!this.components.series)return Object.keys(this.components);var a=Object.keys(this.components).filter(function(a){return"series"!==a});return["series"].concat(a)},update:function(){var a=this.components,b=this.chart,c=b.options.accessibility;E(b,"beforeA11yUpdate");b.types=this.getChartTypes();this.getComponentOrder().forEach(function(c){a[c].onChartUpdate();E(b,"afterA11yComponentUpdate",{name:c,component:a[c]})});this.keyboardNavigation.update(c.keyboardNavigation.order);
!b.highContrastModeActive&&G.isHighContrastModeActive()&&G.setHighContrastTheme(b);E(b,"afterA11yUpdate",{accessibility:this})},destroy:function(){var a=this.chart||{},b=this.components;Object.keys(b).forEach(function(a){b[a].destroy();b[a].destroyBase()});this.keyboardNavigation&&this.keyboardNavigation.destroy();a.renderTo&&a.renderTo.setAttribute("aria-hidden",!0);a.focusElement&&a.focusElement.removeFocusBorder()},getChartTypes:function(){var a={};this.chart.series.forEach(function(b){a[b.type]=
1});return Object.keys(a)}};k.Chart.prototype.updateA11yEnabled=function(){var a=this.accessibility,b=this.options.accessibility;b&&b.enabled?a?a.update():this.accessibility=new z(this):a?(a.destroy&&a.destroy(),delete this.accessibility):this.renderTo.setAttribute("aria-hidden",!0)};x(k.Chart,"render",function(a){this.a11yDirty&&this.renderTo&&(delete this.a11yDirty,this.updateA11yEnabled());var b=this.accessibility;b&&b.getComponentOrder().forEach(function(a){b.components[a].onChartRender()})});
x(k.Chart,"update",function(a){if(a=a.options.accessibility)a.customComponents&&(this.options.accessibility.customComponents=a.customComponents,delete a.customComponents),K(!0,this.options.accessibility,a),this.accessibility&&this.accessibility.destroy&&(this.accessibility.destroy(),delete this.accessibility);this.a11yDirty=!0});x(r,"update",function(){this.series.chart.accessibility&&(this.series.chart.a11yDirty=!0)});["addSeries","init"].forEach(function(a){x(k.Chart,a,function(){this.a11yDirty=
!0})});["update","updatedData","remove"].forEach(function(a){x(g,a,function(){this.chart.accessibility&&(this.chart.a11yDirty=!0)})});["afterDrilldown","drillupall"].forEach(function(a){x(k.Chart,a,function(){this.accessibility&&this.accessibility.update()})});x(k.Chart,"destroy",function(){this.accessibility&&this.accessibility.destroy()})});v(b,"masters/modules/accessibility.src.js",[],function(){})});
//# sourceMappingURL=accessibility.js.map