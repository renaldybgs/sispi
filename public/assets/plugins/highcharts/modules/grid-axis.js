/*
 Highcharts Gantt JS v9.0.1 (2021-03-26)

 GridAxis

 (c) 2016-2021 Lars A. V. Cabrera

 License: www.highcharts.com/license
*/
(function(e){"object"===typeof module&&module.exports?(e["default"]=e,module.exports=e):"function"===typeof define&&define.amd?define("highcharts/modules/grid-axis",["highcharts"],function(k){e(k);e.Highcharts=k;return e}):e("undefined"!==typeof Highcharts?Highcharts:void 0)})(function(e){function k(e,r,k,g){e.hasOwnProperty(r)||(e[r]=g.apply(null,k))}e=e?e._modules:{};k(e,"Core/Axis/GridAxis.js",[e["Core/Axis/Axis.js"],e["Core/Globals.js"],e["Core/Axis/Tick.js"],e["Core/Utilities.js"]],function(e,
k,y,g){var l=g.addEvent,n=g.defined,r=g.erase,z=g.find,A=g.isArray,t=g.isNumber,u=g.merge,w=g.pick,B=g.timeUnits,C=g.wrap,D=k.Chart;"";e.prototype.getMaxLabelDimensions=function(b,a){var c={width:0,height:0};a.forEach(function(a){a=b[a];if(g.isObject(a,!0)){var d=g.isObject(a.label,!0)?a.label:{};a=d.getBBox?d.getBBox().height:0;d.textStr&&!t(d.textPxLength)&&(d.textPxLength=d.getBBox().width);var f=t(d.textPxLength)?Math.round(d.textPxLength):0;d.textStr&&(f=Math.round(d.getBBox().width));c.height=
Math.max(a,c.height);c.width=Math.max(f,c.width)}});return c};k.dateFormats.W=function(b){b=new this.Date(b);var a=(this.get("Day",b)+6)%7,c=new this.Date(b.valueOf());this.set("Date",c,this.get("Date",b)-a+3);a=new this.Date(this.get("FullYear",c),0,1);4!==this.get("Day",a)&&(this.set("Month",b,0),this.set("Date",b,1+(11-this.get("Day",a))%7));return(1+Math.floor((c.valueOf()-a.valueOf())/6048E5)).toString()};k.dateFormats.E=function(b){return this.dateFormat("%a",b,!0).charAt(0)};l(D,"afterSetChartSize",
function(){this.axes.forEach(function(b){(b.grid&&b.grid.columns||[]).forEach(function(a){a.setAxisSize();a.setAxisTranslation()})})});l(y,"afterGetLabelPosition",function(b){var a=this.label,c=this.axis,f=c.reversed,d=c.chart,h=c.options.grid||{},x=c.options.labels,p=x.align,m=v.Side[c.side],e=b.tickmarkOffset,g=c.tickPositions,l=this.pos-e;g=t(g[b.index+1])?g[b.index+1]-e:c.max+e;var q=c.tickSize("tick");e=q?q[0]:0;q=q?q[1]/2:0;if(!0===h.enabled){if("top"===m){h=c.top+c.offset;var k=h-e}else"bottom"===
m?(k=d.chartHeight-c.bottom+c.offset,h=k+e):(h=c.top+c.len-c.translate(f?g:l),k=c.top+c.len-c.translate(f?l:g));"right"===m?(m=d.chartWidth-c.right+c.offset,f=m+e):"left"===m?(f=c.left+c.offset,m=f-e):(m=Math.round(c.left+c.translate(f?g:l))-q,f=Math.round(c.left+c.translate(f?l:g))-q);this.slotWidth=f-m;b.pos.x="left"===p?m:"right"===p?f:m+(f-m)/2;b.pos.y=k+(h-k)/2;d=d.renderer.fontMetrics(x.style.fontSize,a.element);a=a.getBBox().height;x.useHTML?b.pos.y+=d.b+-(a/2):(a=Math.round(a/d.h),b.pos.y+=
(d.b-(d.h-d.f))/2+-((a-1)*d.h/2));b.pos.x+=c.horiz&&x.x||0}});l(y,"labelFormat",function(b){var a,c=b.axis,f=b.value;if(null===(a=c.options.grid)||void 0===a?0:a.enabled){var d=c.tickPositions;a=(c.linkedParent||c).series[0];var h=f===d[0];d=f===d[d.length-1];var e=a&&z(a.options.data,function(a){return a[c.isXAxis?"x":"y"]===f}),p=void 0;e&&a.is("gantt")&&(p=u(e),k.seriesTypes.gantt.prototype.pointClass.setGanttPointAliases(p));b.isFirst=h;b.isLast=d;b.point=p}});var E=function(){function b(a){this.axis=
a}b.prototype.isOuterAxis=function(){var a=this.axis,c=a.grid.columnIndex,b=a.linkedParent&&a.linkedParent.grid.columns||a.grid.columns,d=c?a.linkedParent:a,h=-1,e=0;a.chart[a.coll].forEach(function(c,b){c.side!==a.side||c.options.isInternal||(e=b,c===d&&(h=b))});return e===h&&(t(c)?b.length===c:!0)};b.prototype.renderBorder=function(a){var c=this.axis,b=c.chart.renderer,d=c.options;a=b.path(a).addClass("highcharts-axis-line").add(c.axisBorder);b.styledMode||a.attr({stroke:d.lineColor,"stroke-width":d.lineWidth,
zIndex:7});return a};return b}(),v=function(){function b(){}b.compose=function(a){e.keepProps.push("grid");C(a.prototype,"unsquish",b.wrapUnsquish);l(a,"init",b.onInit);l(a,"afterGetOffset",b.onAfterGetOffset);l(a,"afterGetTitlePosition",b.onAfterGetTitlePosition);l(a,"afterInit",b.onAfterInit);l(a,"afterRender",b.onAfterRender);l(a,"afterSetAxisTranslation",b.onAfterSetAxisTranslation);l(a,"afterSetOptions",b.onAfterSetOptions);l(a,"afterSetOptions",b.onAfterSetOptions2);l(a,"afterSetScale",b.onAfterSetScale);
l(a,"afterTickSize",b.onAfterTickSize);l(a,"trimTicks",b.onTrimTicks);l(a,"destroy",b.onDestroy)};b.onAfterGetOffset=function(){var a=this.grid;(a&&a.columns||[]).forEach(function(a){a.getOffset()})};b.onAfterGetTitlePosition=function(a){if(!0===(this.options.grid||{}).enabled){var c=this.axisTitle,f=this.height,d=this.horiz,h=this.left,e=this.offset,p=this.opposite,m=this.options,g=this.top,l=this.width,k=this.tickSize(),q=c&&c.getBBox().width,n=m.title.x,r=m.title.y,t=w(m.title.margin,d?5:10);c=
this.chart.renderer.fontMetrics(m.title.style.fontSize,c).f;k=(d?g+f:h)+(d?1:-1)*(p?-1:1)*(k?k[0]/2:0)+(this.side===b.Side.bottom?c:0);a.titlePosition.x=d?h-(q||0)/2-t+n:k+(p?l:0)+e+n;a.titlePosition.y=d?k-(p?f:0)+(p?c:-c)/2+e+r:g-t+r}};b.onAfterInit=function(){var a=this.chart,c=this.options.grid;c=void 0===c?{}:c;var b=this.userOptions;if(c.enabled){var d=this.options;d.labels.align=w(d.labels.align,"center");this.categories||(d.showLastLabel=!1);this.labelRotation=0;d.labels.rotation=0}if(c.columns){d=
this.grid.columns=[];for(var h=this.grid.columnIndex=0;++h<c.columns.length;){var g=u(b,c.columns[c.columns.length-h-1],{linkedTo:0,type:"category",scrollbar:{enabled:!1}});delete g.grid.columns;g=new e(this.chart,g);g.grid.isColumn=!0;g.grid.columnIndex=h;r(a.axes,g);r(a[this.coll],g);d.push(g)}}};b.onAfterRender=function(){var a,c=this.grid,f=this.options;if(!0===(f.grid||{}).enabled){this.maxLabelDimensions=this.getMaxLabelDimensions(this.ticks,this.tickPositions);this.rightWall&&this.rightWall.destroy();
if(this.grid&&this.grid.isOuterAxis()&&this.axisLine&&(f=f.lineWidth)){f=this.getLinePath(f);var d=f[0],h=f[1],e=((this.tickSize("tick")||[1])[0]-1)*(this.side===b.Side.top||this.side===b.Side.left?-1:1);"M"===d[0]&&"L"===h[0]&&(this.horiz?(d[2]+=e,h[2]+=e):(d[1]+=e,h[1]+=e));!this.horiz&&this.chart.marginRight&&(d=[d,["L",this.left,d[2]]],e=["L",this.chart.chartWidth-this.chart.marginRight,this.toPixels(this.max+this.tickmarkOffset)],h=[["M",h[1],this.toPixels(this.max+this.tickmarkOffset)],e],this.grid.upperBorder||
0===this.min%1||(this.grid.upperBorder=this.grid.renderBorder(d)),this.grid.upperBorder&&this.grid.upperBorder.animate({d:d}),this.grid.lowerBorder||0===this.max%1||(this.grid.lowerBorder=this.grid.renderBorder(h)),this.grid.lowerBorder&&this.grid.lowerBorder.animate({d:h}));this.grid.axisLineExtra?this.grid.axisLineExtra.animate({d:f}):this.grid.axisLineExtra=this.grid.renderBorder(f);this.axisLine[this.showAxis?"show":"hide"](!0)}(c&&c.columns||[]).forEach(function(a){a.render()});!this.horiz&&
this.chart.hasRendered&&(this.scrollbar||(null===(a=this.linkedParent)||void 0===a?0:a.scrollbar))&&(a=this.max,c=this.tickmarkOffset,f=this.tickPositions[this.tickPositions.length-1],h=this.tickPositions[0],this.min-h>c?this.ticks[h].label.hide():this.ticks[h].label.show(),f-a>c?this.ticks[f].label.hide():this.ticks[f].label.show(),f-a<c&&0<f-a&&this.ticks[f].isLast?this.ticks[f].mark.hide():this.ticks[f-1]&&this.ticks[f-1].mark.show())}};b.onAfterSetAxisTranslation=function(){var a,c=this.tickPositions&&
this.tickPositions.info,b=this.options,d=this.userOptions.labels||{};(b.grid||{}).enabled&&(this.horiz?(this.series.forEach(function(a){a.options.pointRange=0}),c&&b.dateTimeLabelFormats&&b.labels&&!n(d.align)&&(!1===b.dateTimeLabelFormats[c.unitName].range||1<c.count)&&(b.labels.align="left",n(d.x)||(b.labels.x=3))):"treegrid"!==this.options.type&&(null===(a=this.grid)||void 0===a?0:a.columns)&&(this.minPointOffset=this.tickInterval))};b.onAfterSetOptions=function(a){var c=this.options;a=a.userOptions;
var b=c&&g.isObject(c.grid,!0)?c.grid:{};if(!0===b.enabled){var d=u(!0,{className:"highcharts-grid-axis "+(a.className||""),dateTimeLabelFormats:{hour:{list:["%H:%M","%H"]},day:{list:["%A, %e. %B","%a, %e. %b","%E"]},week:{list:["Week %W","W%W"]},month:{list:["%B","%b","%o"]}},grid:{borderWidth:1},labels:{padding:2,style:{fontSize:"13px"}},margin:0,title:{text:null,reserveSpace:!1,rotation:0},units:[["millisecond",[1,10,100]],["second",[1,10]],["minute",[1,5,15]],["hour",[1,6]],["day",[1]],["week",
[1]],["month",[1]],["year",null]]},a);"xAxis"===this.coll&&(n(a.linkedTo)&&!n(a.tickPixelInterval)&&(d.tickPixelInterval=350),n(a.tickPixelInterval)||!n(a.linkedTo)||n(a.tickPositioner)||n(a.tickInterval)||(d.tickPositioner=function(a,c){var b=this.linkedParent&&this.linkedParent.tickPositions&&this.linkedParent.tickPositions.info;if(b){var f,e=d.units;for(f=0;f<e.length;f++)if(e[f][0]===b.unitName){var h=f;break}if(e[h+1]){var g=e[h+1][0];var k=(e[h+1][1]||[1])[0]}else"year"===b.unitName&&(g="year",
k=10*b.count);b=B[g];this.tickInterval=b*k;return this.getTimeTicks({unitRange:b,count:k,unitName:g},a,c,this.options.startOfWeek)}}));u(!0,this.options,d);this.horiz&&(c.minPadding=w(a.minPadding,0),c.maxPadding=w(a.maxPadding,0));t(c.grid.borderWidth)&&(c.tickWidth=c.lineWidth=b.borderWidth)}};b.onAfterSetOptions2=function(a){a=(a=a.userOptions)&&a.grid||{};var c=a.columns;a.enabled&&c&&u(!0,this.options,c[c.length-1])};b.onAfterSetScale=function(){(this.grid.columns||[]).forEach(function(a){a.setScale()})};
b.onAfterTickSize=function(a){var c=e.defaultLeftAxisOptions,b=this.horiz,d=this.maxLabelDimensions,h=this.options.grid;h=void 0===h?{}:h;h.enabled&&d&&(c=2*Math.abs(c.labels.x),b=b?h.cellHeight||c+d.height:c+d.width,A(a.tickSize)?a.tickSize[0]=b:a.tickSize=[b,0])};b.onDestroy=function(a){var c=this.grid;(c.columns||[]).forEach(function(c){c.destroy(a.keepEvents)});c.columns=void 0};b.onInit=function(a){a=a.userOptions||{};var c=a.grid||{};c.enabled&&n(c.borderColor)&&(a.tickColor=a.lineColor=c.borderColor);
this.grid||(this.grid=new E(this))};b.onTrimTicks=function(){var a=this.options,c=this.categories,b=this.tickPositions,d=b[0],e=b[b.length-1],g=this.linkedParent&&this.linkedParent.min||this.min,k=this.linkedParent&&this.linkedParent.max||this.max,l=this.tickInterval;!0!==(a.grid||{}).enabled||c||!this.horiz&&!this.isLinked||(d<g&&d+l>g&&!a.startOnTick&&(b[0]=g),e>k&&e-l<k&&!a.endOnTick&&(b[b.length-1]=k))};b.wrapUnsquish=function(a){var b=this.options.grid;return!0===(void 0===b?{}:b).enabled&&this.categories?
this.tickInterval:a.apply(this,Array.prototype.slice.call(arguments,1))};return b}();(function(b){b=b.Side||(b.Side={});b[b.top=0]="top";b[b.right=1]="right";b[b.bottom=2]="bottom";b[b.left=3]="left"})(v||(v={}));v.compose(e);return v});k(e,"masters/modules/grid-axis.src.js",[],function(){})});
//# sourceMappingURL=grid-axis.js.map